import{c as e,a as s,al as t,u as a,r,j as l,m as d,P as n,d as i,q as o,l as c}from"./index-BDKevNej.js";import{A as x}from"./arrow-left-DCynD__3.js";import{V as g}from"./video-XRO7AWjk.js";import{E as m}from"./ellipsis-vertical-DCwBoMZf.js";import{P as h}from"./paperclip-eokfqnwo.js";import{S as b}from"./smile-DPKXfZtP.js";
/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=e("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),j=()=>{const{t:e,i18n:j}=s("agent"),{id:p}=t(),y=a(),v=r.useRef(null),[N,f]=r.useState(""),k={customerName:e("conversations.detail.loading"),customerPhone:"",messages:[]};r.useEffect(()=>{var e;null==(e=v.current)||e.scrollIntoView({behavior:"smooth"})},[k.messages]);const w=()=>{N.trim()&&(c.debug("Message sent",{conversationId:p,message:N}),f(""))},P=e=>{const s="tr"===j.language?"tr-TR":"en-US";return new Intl.DateTimeFormat(s,{hour:"2-digit",minute:"2-digit"}).format(e)};return l.jsxs("div",{className:"flex flex-col h-screen bg-slate-50 dark:bg-slate-900",children:[l.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{type:"button",onClick:()=>y("/agent/conversations"),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:l.jsx(x,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center",children:l.jsx(d,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),l.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 border-2 border-white dark:border-slate-800 rounded-full"})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:k.customerName}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:k.customerPhone})]})]}),l.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[l.jsxs("span",{className:"px-3 py-1 rounded-full bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 text-xs font-semibold",children:["ðŸš¨ ",e("conversations.detail.urgentPriority")]}),l.jsxs("span",{className:"px-3 py-1 rounded-full bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs font-semibold",children:["âœ… ",e("conversations.detail.activePriority")]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:l.jsx(n,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),l.jsx("button",{type:"button",className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:l.jsx(g,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),l.jsx("button",{type:"button",className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:l.jsx(m,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 text-white p-4 rounded-lg mb-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:l.jsx(i,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg",children:e("conversations.detail.emergencyCallTakenOver")}),l.jsx("p",{className:"text-sm text-white/90",children:e("conversations.detail.emergencyCallDescription")})]})]})}),k.messages.map(s=>l.jsx("div",{className:"flex "+("agent"===s.sender?"justify-end":"justify-start"),children:l.jsxs("div",{className:"max-w-[70%] "+("agent"===s.sender?"order-2":"order-1"),children:["agent"!==s.sender&&l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 ml-1",children:[s.senderName," ","ai"===s.sender&&e("conversations.detail.aiAssistant")]}),l.jsxs("div",{className:"rounded-lg p-3 "+("customer"===s.sender?"bg-white dark:bg-slate-800 text-gray-900 dark:text-white":"ai"===s.sender?"bg-blue-100 dark:bg-blue-900/30 text-blue-900 dark:text-blue-300":"bg-blue-600 text-white"),children:[l.jsx("p",{className:"text-sm",children:s.content}),l.jsxs("div",{className:"flex items-center justify-end gap-1 mt-1",children:[l.jsx("p",{className:"text-xs opacity-70",children:P(s.timestamp)}),"agent"===s.sender&&("read"===s.status||"delivered"===s.status)&&l.jsx(u,{className:"w-4 h-4"})]})]})]})},s.id)),l.jsx("div",{ref:v})]}),l.jsx("div",{className:"bg-white dark:bg-slate-800 border-t border-gray-200 dark:border-slate-700 p-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{type:"button",className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:l.jsx(h,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),l.jsx("button",{type:"button",className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:l.jsx(b,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),l.jsx("input",{type:"text",value:N,onChange:e=>f(e.target.value),onKeyDown:e=>"Enter"===e.key&&w(),placeholder:e("conversations.messagePlaceholder"),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-900 text-gray-900 dark:text-white"}),l.jsxs("button",{type:"button",onClick:w,disabled:!N.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[l.jsx(o,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:e("conversations.detail.send")})]})]})})]})};export{j as default};
