import{a as e,b as s,r as t,j as a,I as r,i as l,m as i,q as d,ad as n}from"./index-ByjBXa3D.js";const o=()=>{const{t:o,i18n:m}=e("agent"),{user:u}=s(),[x,c]=t.useState([{id:"1",role:"assistant",content:o("aiChat.welcome.message",{name:(null==u?void 0:u.name)||o("aiChat.welcome.defaultName")}),timestamp:(new Date).toISOString(),suggestions:[o("aiChat.suggestions.todayStats"),o("aiChat.suggestions.frequentQuestions"),o("aiChat.suggestions.waitingCustomers"),o("aiChat.suggestions.teamStatus")]}]),[g,p]=t.useState(""),[h,b]=t.useState(!1),f=t.useRef(null);t.useEffect(()=>{var e;null==(e=f.current)||e.scrollIntoView({behavior:"smooth"})},[x]);const w=t.useCallback(async()=>{if(!g.trim()||h)return;const e={id:Date.now().toString(),role:"user",content:g,timestamp:(new Date).toISOString()};c(s=>[...s,e]),p(""),b(!0),setTimeout(()=>{const e={id:(Date.now()+1).toString(),role:"assistant",content:o("aiChat.responses.processing"),timestamp:(new Date).toISOString(),suggestions:[o("aiChat.suggestions.todayStats"),o("aiChat.suggestions.waitingCustomers"),o("aiChat.suggestions.performance")]};c(s=>[...s,e]),b(!1)},1500)},[g,h,o,null==u?void 0:u.id]);return a.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-slate-900",children:[a.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-4 sm:px-6 py-3 sm:py-4",children:a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-purple-500 to-blue-600 dark:from-purple-600 dark:to-blue-700 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:a.jsx(r,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white truncate",children:o("aiChat.header.title")}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:o("aiChat.header.subtitle")})]})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 md:p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto space-y-4 sm:space-y-6",children:[x.map(e=>{return a.jsxs("div",{className:"flex gap-2 sm:gap-3 md:gap-4 "+("user"===e.role?"justify-end":""),children:["assistant"===e.role&&a.jsx("div",{className:"hidden sm:flex w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-br from-purple-500 to-blue-600 dark:from-purple-600 dark:to-blue-700 rounded-lg items-center justify-center flex-shrink-0",children:a.jsx(l,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),a.jsx("div",{className:"flex-1 max-w-full sm:max-w-2xl "+("user"===e.role?"flex justify-end":""),children:a.jsxs("div",{className:"rounded-xl sm:rounded-2xl p-3 sm:p-4 "+("user"===e.role?"bg-blue-600 dark:bg-blue-700 text-white":"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700"),children:[a.jsx("p",{className:"whitespace-pre-wrap "+("assistant"===e.role?"text-gray-900 dark:text-white":""),children:e.content}),a.jsx("p",{className:"text-xs mt-2 "+("user"===e.role?"text-blue-100":"text-gray-500 dark:text-gray-400"),children:(s=e.timestamp,n(new Date(s),m.language,{hour:"2-digit",minute:"2-digit"}))}),e.suggestions&&e.suggestions.length>0&&a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:o("aiChat.suggestions.title")}),e.suggestions.map((e,s)=>a.jsx("button",{onClick:()=>(e=>{p(e)})(e),className:"block w-full text-left px-3 py-2 bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-lg text-sm transition-colors",type:"button",children:e},s))]})]})}),"user"===e.role&&a.jsx("div",{className:"hidden sm:flex w-7 h-7 sm:w-8 sm:h-8 bg-blue-600 dark:bg-blue-700 rounded-lg items-center justify-center flex-shrink-0",children:a.jsx(i,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})})]},e.id);var s}),h&&a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-blue-600 dark:from-purple-600 dark:to-blue-700 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(l,{className:"w-5 h-5 text-white"})}),a.jsx("div",{className:"flex-1 max-w-2xl",children:a.jsx("div",{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-2xl p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-600 dark:bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),a.jsx("div",{className:"w-2 h-2 bg-purple-600 dark:bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),a.jsx("div",{className:"w-2 h-2 bg-purple-600 dark:bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})})]}),a.jsx("div",{ref:f})]})}),a.jsx("div",{className:"bg-white dark:bg-slate-800 border-t border-gray-200 dark:border-slate-700 p-3 sm:p-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-end gap-2 sm:gap-3",children:[a.jsx("div",{className:"flex-1 bg-gray-50 dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg sm:rounded-xl focus-within:border-purple-500 dark:focus-within:border-purple-400 transition-colors",children:a.jsx("textarea",{value:g,onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),w())},placeholder:o("aiChat.askQuestion"),rows:2,className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-transparent text-sm sm:text-base text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 resize-none focus:outline-none"})}),a.jsxs("button",{onClick:w,disabled:!g.trim()||h,className:"px-4 py-2.5 sm:px-6 sm:py-3 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 dark:from-purple-700 dark:to-blue-800 dark:hover:from-purple-800 dark:hover:to-blue-900 disabled:opacity-50 disabled:cursor-not-allowed text-white text-sm sm:text-base font-medium rounded-lg sm:rounded-xl transition-all flex items-center justify-center gap-2",type:"button",children:[a.jsx(d,{className:"w-4 h-4 sm:w-5 sm:h-5"}),a.jsx("span",{children:o("aiChat.send")})]})]}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center hidden sm:block",children:o("aiChat.disclaimer")})]})})]})};export{o as default};
