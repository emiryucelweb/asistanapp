import{a as e,j as t,R as a,e as r,r as n,T as s,M as o,P as i,l,D as d,f as c}from"./index-BDKevNej.js";import{f as m,a as u}from"./formatters-C2pslz24.js";import{i as h,D as x,f as p,E as g,L as f,a as b,C as y,A as v,b as k,c as j,d as w,h as N,e as A,g as P,u as S,G as D,j as O,k as R,X as T,Y as C,l as E,R as L,m as M,n as F,T as I,o as W,p as $,P as z,q as K,r as _}from"./AreaChart-4cYfuGfX.js";import{I as B}from"./instagram-Ce5ACwEN.js";import{F as G}from"./facebook-GPBa8oKG.js";import{G as V}from"./globe-CQ2O9vVS.js";import{C as H}from"./calendar-DKgWgsf7.js";const U=({dateRange:a="7d"})=>{const{t:r}=e("admin"),n=(()=>{switch(a){case"24h":return.15;case"7d":default:return 1;case"30d":return 4;case"1y":return 50;case"custom":return 2}})(),s=[{title:r("dashboard.kpi.activeConversations"),value:m(Math.round(125*n)),change:"+10%",positive:!0},{title:r("dashboard.kpi.aiResolutionRate"),value:"65%",change:"+5%",positive:!0},{title:r("dashboard.kpi.customerSatisfaction"),value:"92%",change:"+3%",positive:!0},{title:r("dashboard.kpi.revenue"),value:u(15e3*n),change:"+8%",positive:!0}];return t.jsx("div",{className:"flex flex-wrap gap-4 p-4",children:s.map((e,a)=>t.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0d9e7] dark:border-slate-700 bg-white dark:bg-slate-800 hover:shadow-md transition-shadow",children:[t.jsx("p",{className:"text-[#0e131b] dark:text-gray-100 text-base font-medium leading-normal",children:e.title}),t.jsx("p",{className:"text-[#0e131b] dark:text-gray-100 tracking-light text-2xl font-bold leading-tight",children:e.value}),t.jsx("p",{className:"text-base font-medium leading-normal "+(e.positive?"text-[#07883b] dark:text-green-400":"text-[#ef4444] dark:text-red-400"),children:e.change})]},a))})};var q=["type","layout","connectNulls","ref"],J=["key"];function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Q.apply(this,arguments)}function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(a),!0).forEach(function(t){le(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function te(e){return function(e){if(Array.isArray(e))return ae(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ae(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function re(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,de(r.key),r)}}function ne(e,t,a){return t=oe(t),function(e,t){if(t&&("object"===X(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,se()?Reflect.construct(t,a||[],oe(e).constructor):t.apply(e,a))}function se(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(se=function(){return!!e})()}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function le(e,t,a){return(t=de(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function de(e){var t=function(e,t){if("object"!=X(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t);if("object"!=X(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==X(t)?t:t+""}var ce=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return le(t=ne(this,e,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),le(t,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),le(t,"getStrokeDasharray",function(a,r,n){var s=n.reduce(function(e,t){return e+t});if(!s)return t.generateSimpleStrokeDasharray(r,a);for(var o=Math.floor(a/s),i=a%s,l=r-a,d=[],c=0,m=0;c<n.length;m+=n[c],++c)if(m+n[c]>i){d=[].concat(te(n.slice(0,c)),[i-m]);break}var u=d.length%2==0?[0,l]:[l];return[].concat(te(e.repeat(n,o)),te(d),u).map(function(e){return"".concat(e,"px")}).join(", ")}),le(t,"id",S("recharts-line-")),le(t,"pathRef",function(e){t.mainCurve=e}),le(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),le(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}(e,n.PureComponent),t=e,o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var a=e.length%2!=0?[].concat(te(e),[0]):e,r=[],n=0;n<t;++n)r=[].concat(te(r),te(a));return r}},{key:"renderDotItem",value:function(e,t){var n;if(a.isValidElement(e))n=a.cloneElement(e,t);else if(h(e))n=e(t);else{var s=t.key,o=Y(t,J),i=r("recharts-line-dot","boolean"!=typeof e?e.className:"");n=a.createElement(x,Q({key:s},o,{className:i}))}return n}}],(s=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.points,s=r.xAxis,o=r.yAxis,i=r.layout,l=r.children,d=p(l,g);if(!d)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:P(e.payload,t)}},m={clipPath:e?"url(#clipPath-".concat(t,")"):null};return a.createElement(f,m,d.map(function(e){return a.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:n,xAxis:s,yAxis:o,layout:i,dataPointFormatter:c})}))}},{key:"renderDots",value:function(t,r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.dot,i=s.points,l=s.dataKey,d=b(this.props,!1),c=b(o,!0),m=i.map(function(t,a){var r=ee(ee(ee({key:"dot-".concat(a),r:3},d),c),{},{index:a,cx:t.x,cy:t.y,value:t.value,dataKey:l,payload:t.payload,points:i});return e.renderDotItem(o,r)}),u={clipPath:t?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return a.createElement(f,Q({className:"recharts-line-dots",key:"dots"},u),m)}},{key:"renderCurveStatically",value:function(e,t,r,n){var s=this.props,o=s.type,i=s.layout,l=s.connectNulls;s.ref;var d=Y(s,q),c=ee(ee(ee({},b(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},n),{},{type:o,layout:i,connectNulls:l});return a.createElement(y,Q({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,n=this.props,s=n.points,o=n.strokeDasharray,i=n.isAnimationActive,l=n.animationBegin,d=n.animationDuration,c=n.animationEasing,m=n.animationId,u=n.animateNewValues,h=n.width,x=n.height,p=this.state,g=p.prevPoints,f=p.totalLength;return a.createElement(v,{begin:l,duration:d,isActive:i,easing:c,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(a){var n=a.t;if(g){var i=g.length/s.length,l=s.map(function(e,t){var a=Math.floor(t*i);if(g[a]){var r=g[a],s=k(r.x,e.x),o=k(r.y,e.y);return ee(ee({},e),{},{x:s(n),y:o(n)})}if(u){var l=k(2*h,e.x),d=k(x/2,e.y);return ee(ee({},e),{},{x:l(n),y:d(n)})}return ee(ee({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(l,e,t)}var d,c=k(0,f)(n);if(o){var m="".concat(o).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});d=r.getStrokeDasharray(c,f,m)}else d=r.generateSimpleStrokeDasharray(f,c);return r.renderCurveStatically(s,e,t,{strokeDasharray:d})})}},{key:"renderCurve",value:function(e,t){var a=this.props,r=a.points,n=a.isAnimationActive,s=this.state,o=s.prevPoints,i=s.totalLength;return n&&r&&r.length&&(!o&&i>0||!j(o,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,s=t.dot,o=t.points,i=t.className,l=t.xAxis,d=t.yAxis,c=t.top,m=t.left,u=t.width,h=t.height,x=t.isAnimationActive,p=t.id;if(n||!o||!o.length)return null;var g=this.state.isAnimationFinished,y=1===o.length,v=r("recharts-line",i),k=l&&l.allowDataOverflow,j=d&&d.allowDataOverflow,P=k||j,S=w(p)?this.id:p,D=null!==(e=b(s,!1))&&void 0!==e?e:{r:3,strokeWidth:2},O=D.r,R=void 0===O?3:O,T=D.strokeWidth,C=void 0===T?2:T,E=(N(s)?s:{}).clipDot,L=void 0===E||E,M=2*R+C;return a.createElement(f,{className:v},k||j?a.createElement("defs",null,a.createElement("clipPath",{id:"clipPath-".concat(S)},a.createElement("rect",{x:k?m:m-u/2,y:j?c:c-h/2,width:k?u:2*u,height:j?h:2*h})),!L&&a.createElement("clipPath",{id:"clipPath-dots-".concat(S)},a.createElement("rect",{x:m-M/2,y:c-M/2,width:u+M,height:h+M}))):null,!y&&this.renderCurve(P,S),this.renderErrorBar(P,S),(y||s)&&this.renderDots(P,L,S),(!x||g)&&A.renderCallByParent(this.props,o))}}])&&re(t.prototype,s),o&&re(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,s,o}();le(ce,"displayName","Line"),le(ce,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!D.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),le(ce,"getComposedData",function(e){var t=e.props,a=e.xAxis,r=e.yAxis,n=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,i=e.bandSize,l=e.displayedData,d=e.offset,c=t.layout;return ee({points:l.map(function(e,t){var l=P(e,o);return"horizontal"===c?{x:O({axis:a,ticks:n,bandSize:i,entry:e,index:t}),y:w(l)?null:r.scale(l),value:l,payload:e}:{x:w(l)?null:a.scale(l),y:O({axis:r,ticks:s,bandSize:i,entry:e,index:t}),value:l,payload:e}}),layout:c},d)});var me=R({chartName:"LineChart",GraphicalChild:ce,axisComponents:[{axisType:"xAxis",AxisComp:T},{axisType:"yAxis",AxisComp:C}],formatAxisMap:E});const ue=({data:e,title:a,subtitle:r,color:n="#3b82f6",type:s="area",showGrid:o=!0,showLegend:i=!1,height:l=300,valueFormatter:d=e=>e.toLocaleString("tr-TR")})=>{const c=({active:e,payload:a})=>{if(e&&a&&a.length){const e=a[0];return e&&e.payload?t.jsxs("div",{className:"bg-white dark:bg-slate-800 px-4 py-3 rounded-lg shadow-lg border border-gray-200 dark:border-slate-600",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-1",children:String(e.payload.date||"")}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.jsx("span",{className:"font-medium",style:{color:n},children:d(e.value)})})]}):null}return null};return t.jsxs("div",{className:"flex min-w-72 flex-1 flex-col gap-2 rounded-xl border border-[#d0d9e7] dark:border-slate-700 p-6 hover:shadow-md transition-shadow bg-white dark:bg-slate-800",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"text-[#0e131b] dark:text-gray-100 text-base font-medium leading-normal",children:a}),r&&t.jsx("p",{className:"text-[#4d6a99] dark:text-gray-400 text-sm font-normal leading-normal mt-1",children:r})]}),t.jsx(L,{width:"100%",height:l,children:"area"===s?t.jsxs(M,{data:e,margin:{top:5,right:5,left:0,bottom:5},children:[o&&t.jsx(F,{strokeDasharray:"3 3",stroke:"#e5e7eb",vertical:!1}),t.jsx(T,{dataKey:"date",stroke:"#9ca3af",className:"dark:stroke-gray-500",fontSize:12,tickLine:!1,axisLine:!1}),t.jsx(C,{stroke:"#9ca3af",className:"dark:stroke-gray-500",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:d}),t.jsx(I,{content:t.jsx(c,{}),cursor:{stroke:n,strokeWidth:1}}),i&&t.jsx(W,{}),t.jsx($,{type:"monotone",dataKey:"value",stroke:n,fill:n,fillOpacity:.2,strokeWidth:2,dot:{fill:n,strokeWidth:2,r:4},activeDot:{r:6,strokeWidth:0}})]}):t.jsxs(me,{data:e,margin:{top:5,right:5,left:0,bottom:5},children:[o&&t.jsx(F,{strokeDasharray:"3 3",stroke:"#e5e7eb",vertical:!1}),t.jsx(T,{dataKey:"date",stroke:"#9ca3af",className:"dark:stroke-gray-500",fontSize:12,tickLine:!1,axisLine:!1}),t.jsx(C,{stroke:"#9ca3af",className:"dark:stroke-gray-500",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:d}),t.jsx(I,{content:t.jsx(c,{}),cursor:{stroke:n,strokeWidth:1}}),i&&t.jsx(W,{}),t.jsx(ce,{type:"monotone",dataKey:"value",stroke:n,strokeWidth:2,dot:{fill:n,strokeWidth:2,r:4},activeDot:{r:6,strokeWidth:0}})]})})]})},he=({title:a,value:r,subtitle:s,change:o,positive:i=!0,dateRange:l="7d",type:d="conversation"})=>{const{i18n:c}=e(),h=n.useMemo(()=>{const e="tr"===c.language?"tr-TR":"en-US",t=(()=>{switch(l){case"24h":return 24;case"7d":default:return 7;case"30d":return 30;case"1y":return 12;case"custom":return 14}})(),a=[],r=new Date;for(let n=t-1;n>=0;n--){const s=new Date(r);let o="";"24h"===l?(s.setHours(s.getHours()-n),o=`${s.getHours()}:00`):"1y"===l?(s.setMonth(s.getMonth()-n),o=s.toLocaleDateString(e,{month:"short"})):(s.setDate(s.getDate()-n),o=`${s.getDate()} ${s.toLocaleDateString(e,{month:"short"})}`);const i="revenue"===d?15e3:125,c=1+.02*(t-n),m=.8+.4*Math.random(),u=Math.round(i*c*m);a.push({date:o,value:u})}return a},[l,d,c.language]),x="revenue"===d?"#10b981":"#3b82f6",p="revenue"===d?e=>u(e):e=>m(e);return t.jsxs("div",{className:"flex min-w-72 flex-1 flex-col gap-2 rounded-xl border border-[#d0d9e7] dark:border-slate-700 p-6 hover:shadow-md transition-shadow bg-white dark:bg-slate-800",children:[t.jsx("p",{className:"text-[#0e131b] dark:text-gray-100 text-base font-medium leading-normal",children:a}),t.jsx("p",{className:"text-[#0e131b] dark:text-gray-100 tracking-light text-[32px] font-bold leading-tight truncate",children:r}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("p",{className:"text-[#4d6a99] dark:text-gray-400 text-base font-normal leading-normal",children:s}),t.jsx("p",{className:"text-base font-medium leading-normal "+(i?"text-[#07883b] dark:text-green-400":"text-[#ef4444] dark:text-red-400"),children:o})]}),t.jsx("div",{className:"mt-2",children:t.jsx(ue,{data:h,title:"",color:x,type:"area",showGrid:!0,height:160,valueFormatter:p})})]})},xe=({data:e,title:a,subtitle:r,type:n="donut",showLegend:s=!0,height:o=300,colors:i=["#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#06b6d4"],valueFormatter:l=e=>e.toLocaleString("tr-TR")})=>{const d=({active:a,payload:r})=>{if(a&&r&&r.length){const a=r[0];if(!a)return null;const n=e.reduce((e,t)=>e+t.value,0),s=(a.value/n*100).toFixed(1);return t.jsxs("div",{className:"bg-white dark:bg-slate-800 px-4 py-3 rounded-lg shadow-lg border border-gray-200 dark:border-slate-600",children:[t.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 mb-1",children:a.name}),t.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.jsx("span",{className:"font-medium",style:{color:a.fill||a.color},children:l(a.value)}),t.jsxs("span",{className:"text-gray-500 dark:text-gray-400 ml-1",children:["(",s,"%)"]})]})]})}return null},c=({payload:e})=>e?t.jsx("div",{className:"flex flex-wrap gap-3 justify-center mt-4",children:e.map((e,a)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),t.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.value})]},`legend-${a}`))}):null;return t.jsxs("div",{className:"flex min-w-72 flex-1 flex-col gap-2 rounded-xl border border-[#d0d9e7] dark:border-slate-700 p-6 hover:shadow-md transition-shadow bg-white dark:bg-slate-800",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"text-[#0e131b] dark:text-gray-100 text-base font-medium leading-normal",children:a}),r&&t.jsx("p",{className:"text-[#4d6a99] dark:text-gray-400 text-sm font-normal leading-normal mt-1",children:r})]}),t.jsx(L,{width:"100%",height:o,children:t.jsxs(z,{children:[t.jsx(K,{data:e,cx:"50%",cy:"50%",innerRadius:"donut"===n?"60%":0,outerRadius:"80%",paddingAngle:2,dataKey:"value",label:({name:e,percent:t})=>`${e} ${(100*t).toFixed(0)}%`,labelLine:{stroke:"#9ca3af",strokeWidth:1},children:e.map((e,a)=>t.jsx(_,{fill:e.color||i[a%i.length],stroke:"white",strokeWidth:2},`cell-${a}`))}),t.jsx(I,{content:t.jsx(d,{})}),s&&t.jsx(W,{content:t.jsx(c,{})})]})})]})},pe=({dateRange:a="7d"})=>{const{t:r}=e("admin"),s=n.useMemo(()=>{const e="24h"===a?.15:"7d"===a?1:"30d"===a?4:12;return[{name:r("dashboard.aiPerformance.aiResolved"),value:Math.round(850*e),color:"#10b981"},{name:r("dashboard.aiPerformance.handedToAgent"),value:Math.round(320*e),color:"#f59e0b"},{name:r("dashboard.aiPerformance.pending"),value:Math.round(180*e),color:"#ef4444"}]},[a,r]),o=s[0].value,i=s.reduce((e,t)=>e+t.value,0),l=Math.round(o/i*100);return t.jsxs("div",{className:"flex min-w-72 flex-1 flex-col gap-2 rounded-xl border border-[#d0d9e7] dark:border-slate-700 p-6 hover:shadow-md transition-shadow bg-white dark:bg-slate-800",children:[t.jsx("p",{className:"text-[#0e131b] dark:text-gray-100 text-base font-medium leading-normal",children:r("dashboard.aiPerformance.title")}),t.jsxs("p",{className:"text-[#0e131b] dark:text-gray-100 tracking-light text-[32px] font-bold leading-tight truncate",children:[l,"%"]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("p",{className:"text-[#4d6a99] dark:text-gray-400 text-base font-normal leading-normal",children:r("dashboard.aiPerformance.resolutionRate")}),t.jsx("p",{className:"text-[#07883b] dark:text-green-400 text-base font-medium leading-normal",children:"+5%"})]}),t.jsx(xe,{data:s,title:"",type:"donut",showLegend:!0,height:250})]})},ge=({dateRange:a="7d"})=>{const{t:r}=e("admin"),o=n.useMemo(()=>{const e=[{title:r("dashboard.alerts.highConversationVolume"),time:r("dashboard.alerts.time.hoursAgo",{count:1}),type:"warning"},{title:r("dashboard.alerts.lowSatisfactionRate"),time:r("dashboard.alerts.time.hoursAgo",{count:2}),type:"error"},{title:r("dashboard.alerts.aiResponseTimeIncreased"),time:r("dashboard.alerts.time.hoursAgo",{count:3}),type:"warning"},{title:r("dashboard.alerts.pendingConversationIncrease"),time:r("dashboard.alerts.time.hoursAgo",{count:5}),type:"warning"}],t="24h"===a||"7d"===a?2:"30d"===a?3:4;return e.slice(0,t)},[a,r]);return t.jsx("div",{className:"flex flex-col",children:o.map((e,a)=>t.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 dark:bg-slate-800 px-4 min-h-[72px] py-2 hover:bg-[#e7ecf3]/50 dark:hover:bg-slate-700/50 transition-colors cursor-pointer",children:[t.jsx("div",{className:"text-[#0e131b] dark:text-gray-100 flex items-center justify-center rounded-lg bg-[#e7ecf3] dark:bg-slate-700 shrink-0 size-12",children:t.jsx(s,{size:24})}),t.jsxs("div",{className:"flex flex-col justify-center",children:[t.jsx("p",{className:"text-[#0e131b] dark:text-gray-100 text-base font-medium leading-normal line-clamp-1",children:e.title}),t.jsx("p",{className:"text-[#4d6a99] dark:text-gray-400 text-sm font-normal leading-normal line-clamp-2",children:e.time})]})]},a))})},fe=({dateRange:a="7d"})=>{const{t:r}=e("admin"),s=n.useMemo(()=>{const e="24h"===a?.15:"7d"===a?1:"30d"===a?4:12;return[{name:"WhatsApp",value:Math.round(450*e),color:"#10b981",icon:o},{name:"Instagram",value:Math.round(380*e),color:"#ec4899",icon:B},{name:"Facebook",value:Math.round(320*e),color:"#3b82f6",icon:G},{name:"Web Widget",value:Math.round(280*e),color:"#8b5cf6",icon:V},{name:r("dashboard.channels.phone"),value:Math.round(220*e),color:"#f59e0b",icon:i}]},[a,r]),l=s.reduce((e,t)=>e+t.value,0);return t.jsxs("div",{className:"flex min-w-72 flex-1 flex-col gap-4 rounded-xl border border-[#d0d9e7] dark:border-slate-700 p-6 hover:shadow-md transition-shadow bg-white dark:bg-slate-800",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[#0e131b] dark:text-gray-100 text-base font-medium leading-normal",children:r("dashboard.channelDistribution")}),t.jsx("p",{className:"text-[#0e131b] dark:text-gray-100 tracking-light text-[32px] font-bold leading-tight truncate",children:l.toLocaleString("tr-TR")}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("p",{className:"text-[#4d6a99] dark:text-gray-400 text-base font-normal leading-normal",children:r("dashboard.totalConversations")}),t.jsx("p",{className:"text-[#07883b] dark:text-green-400 text-base font-medium leading-normal",children:"+12%"})]})]}),t.jsx("div",{className:"space-y-3",children:s.map((e,a)=>{const r=(e.value/l*100).toFixed(1),n=e.icon;return t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"p-1.5 rounded-lg",style:{backgroundColor:`${e.color}15`},children:t.jsx(n,{className:"w-4 h-4",style:{color:e.color}})}),t.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:e.name})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:e.value.toLocaleString("tr-TR")}),t.jsxs("span",{className:"font-semibold text-gray-900 dark:text-gray-100 min-w-[3rem] text-right",children:[r,"%"]})]})]}),t.jsx("div",{className:"w-full h-2 bg-gray-100 dark:bg-slate-700 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full rounded-full transition-all duration-500 ease-out",style:{width:`${r}%`,backgroundColor:e.color}})})]},a)})})]})},be=({dateRange:a="7d"})=>{const{t:r}=e("admin"),s=n.useMemo(()=>{const e="24h"===a?.15:"7d"===a?1:"30d"===a?4:12;return[{name:r("dashboard.teamPerformanceTable.mockNames.member1"),resolved:Math.round(50*e),avgTime:r("dashboard.teamPerformanceTable.mockTimes.hours",{count:2}),satisfaction:85},{name:r("dashboard.teamPerformanceTable.mockNames.member2"),resolved:Math.round(45*e),avgTime:r("dashboard.teamPerformanceTable.mockTimes.hours",{count:2.5}),satisfaction:90},{name:r("dashboard.teamPerformanceTable.mockNames.member3"),resolved:Math.round(40*e),avgTime:r("dashboard.teamPerformanceTable.mockTimes.hours",{count:3}),satisfaction:80}]},[a,r]);return t.jsx("div",{className:"px-4 py-3",children:t.jsx("div",{className:"flex overflow-hidden rounded-xl border border-[#d0d9e7] dark:border-slate-700 bg-slate-50 dark:bg-slate-800",children:t.jsxs("table",{className:"flex-1",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-700",children:[t.jsx("th",{className:"px-4 py-3 text-left text-[#0e131b] dark:text-gray-100 w-[400px] text-sm font-medium leading-normal",children:r("dashboard.teamPerformanceTable.teamMember")}),t.jsx("th",{className:"px-4 py-3 text-left text-[#0e131b] dark:text-gray-100 w-[400px] text-sm font-medium leading-normal",children:r("dashboard.teamPerformanceTable.resolvedConversations")}),t.jsx("th",{className:"px-4 py-3 text-left text-[#0e131b] dark:text-gray-100 w-[400px] text-sm font-medium leading-normal",children:r("dashboard.teamPerformanceTable.avgResponseTime")}),t.jsx("th",{className:"px-4 py-3 text-left text-[#0e131b] dark:text-gray-100 w-[400px] text-sm font-medium leading-normal",children:r("dashboard.teamPerformanceTable.satisfactionRate")})]})}),t.jsx("tbody",{children:s.map((e,a)=>t.jsxs("tr",{className:"border-t border-t-[#d0d9e7] dark:border-t-slate-600 hover:bg-[#e7ecf3]/30 dark:hover:bg-slate-700/30 transition-colors",children:[t.jsx("td",{className:"h-[72px] px-4 py-2 w-[400px] text-[#0e131b] dark:text-gray-100 text-sm font-normal leading-normal",children:e.name}),t.jsx("td",{className:"h-[72px] px-4 py-2 w-[400px] text-[#4d6a99] dark:text-gray-400 text-sm font-normal leading-normal",children:e.resolved}),t.jsx("td",{className:"h-[72px] px-4 py-2 w-[400px] text-[#4d6a99] dark:text-gray-400 text-sm font-normal leading-normal",children:e.avgTime}),t.jsx("td",{className:"h-[72px] px-4 py-2 w-[400px] text-sm font-normal leading-normal",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-[88px] overflow-hidden rounded-sm bg-[#d0d9e7] dark:bg-slate-600",children:t.jsx("div",{className:"h-1 rounded-full bg-[#2a74ea] dark:bg-blue-500",style:{width:`${e.satisfaction}%`}})}),t.jsx("p",{className:"text-[#0e131b] dark:text-gray-100 text-sm font-medium leading-normal",children:e.satisfaction})]})})]},a))})]})})})},ye=()=>{const{t:a}=e("admin");l.debug("ðŸ“ˆ DashboardPage rendering...");const[r,s]=n.useState("7d"),[o,i]=n.useState(!1),[m,u]=n.useState(""),[h,x]=n.useState(""),[p,g]=n.useState(!0);n.useEffect(()=>{g(!0);const e=setTimeout(()=>{g(!1)},1500);return()=>clearTimeout(e)},[r]);const f=[{value:"24h",label:a("dashboard.dateRanges.24h")},{value:"7d",label:a("dashboard.dateRanges.7d")},{value:"30d",label:a("dashboard.dateRanges.30d")},{value:"1y",label:a("dashboard.dateRanges.1y")},{value:"custom",label:a("dashboard.dateRanges.custom")}],b=()=>{var e;return"custom"===r&&m&&h?`${m} - ${h}`:(null==(e=f.find(e=>e.value===r))?void 0:e.label)||a("dashboard.dateRanges.7d")},y=(()=>{switch(r){case"24h":return.15;case"7d":default:return 1;case"30d":return 4;case"1y":return 50;case"custom":return 2}})(),v=Math.round(125*y),k=Math.round(15e3*y);return p?t.jsx("div",{className:"flex flex-col w-full overflow-x-hidden p-4 sm:p-6",children:t.jsx(d,{})}):t.jsxs("div",{className:"flex flex-col w-full overflow-x-hidden",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap justify-between gap-3 p-2 sm:p-4",children:[t.jsxs("div",{className:"flex flex-col gap-2 sm:gap-3 min-w-0",children:[t.jsx("p",{className:"text-[#0e131b] dark:text-gray-100 tracking-light text-2xl sm:text-[32px] font-bold leading-tight",children:a("dashboard.pageTitle")}),t.jsx("p",{className:"text-[#4d6a99] dark:text-gray-400 text-xs sm:text-sm font-normal leading-normal",children:(()=>{switch(r){case"24h":return a("dashboard.dateRangeDescriptions.24h");case"7d":default:return a("dashboard.dateRangeDescriptions.7d");case"30d":return a("dashboard.dateRangeDescriptions.30d");case"1y":return a("dashboard.dateRangeDescriptions.1y");case"custom":return a("dashboard.dateRangeDescriptions.custom")}})()})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>i(!o),className:"flex items-center gap-2 px-4 py-2.5 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors",children:[t.jsx(H,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),t.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:b()}),t.jsx(c,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})]}),o&&t.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-600 rounded-xl shadow-lg z-10",children:[t.jsx("div",{className:"p-2",children:f.map(e=>t.jsx("button",{onClick:()=>{s(e.value),"custom"!==e.value&&i(!1)},className:"w-full text-left px-4 py-2.5 rounded-lg transition-colors "+(r===e.value?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 font-medium":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700"),children:e.label},e.value))}),"custom"===r&&t.jsxs("div",{className:"border-t border-gray-200 dark:border-slate-600 p-4 space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"admin-dashboard-start-date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a("dashboard.startDate")}),t.jsx("input",{id:"admin-dashboard-start-date",type:"date",value:m,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"admin-dashboard-end-date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:a("dashboard.endDate")}),t.jsx("input",{id:"admin-dashboard-end-date",type:"date",value:h,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-gray-900 dark:text-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500"})]}),t.jsx("button",{onClick:()=>{m&&h?i(!1):alert(a("dashboard.selectDates"))},className:"w-full px-4 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors font-medium",children:a("dashboard.apply")})]})]})]})]}),t.jsx(U,{dateRange:r}),t.jsx("h2",{className:"text-[#0e131b] dark:text-gray-100 text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-5",children:a("dashboard.metrics")}),t.jsxs("div",{className:"flex flex-wrap gap-4 px-4 py-6",children:[t.jsx(he,{title:a("dashboard.revenueTrends"),value:`â‚º${k.toLocaleString("tr-TR")}`,subtitle:b(),change:"+8%",dateRange:r,type:"revenue"}),t.jsx(he,{title:a("dashboard.conversationTrends"),value:v.toLocaleString("tr-TR"),subtitle:b(),change:"+10%",dateRange:r,type:"conversation"})]}),t.jsx("div",{className:"flex flex-wrap gap-4 px-4 py-6",children:t.jsx(pe,{dateRange:r})}),t.jsx("h2",{className:"text-[#0e131b] dark:text-gray-100 text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-5",children:a("dashboard.recentAlerts")}),t.jsx(ge,{dateRange:r}),t.jsx("h2",{className:"text-[#0e131b] dark:text-gray-100 text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-5",children:a("dashboard.channelDistribution")}),t.jsx("div",{className:"flex flex-wrap gap-4 px-4 py-6",children:t.jsx(fe,{dateRange:r})}),t.jsx("h2",{className:"text-[#0e131b] dark:text-gray-100 text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-5",children:a("dashboard.teamPerformance")}),t.jsx(be,{dateRange:r})]})};export{ye as default};
