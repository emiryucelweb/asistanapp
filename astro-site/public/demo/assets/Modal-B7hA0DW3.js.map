{"version":3,"file":"Modal-B7hA0DW3.js","sources":["../../src/shared/ui/Modal.tsx"],"sourcesContent":["/**\n * Reusable Modal Component\n * Modern, accessible modal with animations\n */\nimport React, { useEffect } from 'react';\nimport { X } from 'lucide-react';\nimport { useTranslation } from 'react-i18next';\n\nexport interface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title?: string;\n  children: React.ReactNode;\n  size?: 'sm' | 'md' | 'lg' | 'xl' | 'full';\n  showCloseButton?: boolean;\n  closeOnOverlayClick?: boolean;\n  closeOnEscape?: boolean;\n  footer?: React.ReactNode;\n  headerClassName?: string;\n  bodyClassName?: string;\n  footerClassName?: string;\n}\n\nconst sizeClasses = {\n  sm: 'max-w-md',\n  md: 'max-w-lg',\n  lg: 'max-w-2xl',\n  xl: 'max-w-4xl',\n  full: 'max-w-7xl',\n};\n\nexport const Modal: React.FC<ModalProps> = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  size = 'md',\n  showCloseButton = true,\n  closeOnOverlayClick = true,\n  closeOnEscape = true,\n  footer,\n  headerClassName = '',\n  bodyClassName = '',\n  footerClassName = '',\n}) => {\n  const { t } = useTranslation('common');\n  // Handle ESC key\n  useEffect(() => {\n    if (!isOpen || !closeOnEscape) return;\n\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [isOpen, closeOnEscape, onClose]);\n\n  // Lock body scroll when modal is open\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [isOpen]);\n\n  if (!isOpen) return null;\n\n  return (\n    <div\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 dark:bg-opacity-70 backdrop-blur-sm animate-fadeIn\"\n      onClick={closeOnOverlayClick ? onClose : undefined}\n      onKeyDown={(e) => e.key === 'Escape' && closeOnEscape && onClose()}\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-labelledby={title ? 'modal-title' : undefined}\n    >\n      { }\n      <div\n        className={`relative w-full ${sizeClasses[size]} bg-white dark:bg-slate-800 rounded-2xl shadow-2xl animate-slideUp`}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Header */}\n        {(title || showCloseButton) && (\n          <div\n            className={`flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-slate-700 ${headerClassName}`}\n          >\n            {title && (\n              <h2\n                id=\"modal-title\"\n                className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\"\n              >\n                {title}\n              </h2>\n            )}\n            {showCloseButton && (\n              <button\n                onClick={onClose}\n                className=\"p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n                aria-label={t('close')}\n              >\n                <X className=\"w-5 h-5\" />\n              </button>\n            )}\n          </div>\n        )}\n\n        {/* Body */}\n        <div className={`px-6 py-4 max-h-[calc(100vh-200px)] overflow-y-auto ${bodyClassName}`}>\n          {children}\n        </div>\n\n        {/* Footer */}\n        {footer && (\n          <div\n            className={`flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 dark:border-slate-700 bg-gray-50 dark:bg-slate-900 rounded-b-2xl ${footerClassName}`}\n          >\n            {footer}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n/**\n * Confirmation Modal\n * For delete, confirm actions\n */\nexport interface ConfirmModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onConfirm: () => void;\n  title: string;\n  message: string;\n  confirmText?: string;\n  cancelText?: string;\n  variant?: 'danger' | 'warning' | 'info';\n  isLoading?: boolean;\n}\n\nexport const ConfirmModal: React.FC<ConfirmModalProps> = ({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message,\n  confirmText,\n  cancelText,\n  variant = 'danger',\n  isLoading = false,\n}) => {\n  const { t } = useTranslation('common');\n  const variantClasses = {\n    danger: 'bg-red-600 hover:bg-red-700 focus:ring-red-500',\n    warning: 'bg-orange-600 hover:bg-orange-700 focus:ring-orange-500',\n    info: 'bg-blue-600 hover:bg-blue-700 focus:ring-blue-500',\n  };\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onClose={onClose}\n      title={title}\n      size=\"sm\"\n      footer={\n        <>\n          <button\n            onClick={onClose}\n            disabled={isLoading}\n            className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            {cancelText || t('cancel')}\n          </button>\n          <button\n            onClick={onConfirm}\n            disabled={isLoading}\n            className={`px-4 py-2 text-sm font-medium text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors ${variantClasses[variant]}`}\n          >\n            {isLoading ? t('processing') : (confirmText || t('confirm'))}\n          </button>\n        </>\n      }\n    >\n      <p className=\"text-sm text-gray-600 dark:text-gray-400\">{message}</p>\n    </Modal>\n  );\n};\n\n/**\n * Form Modal\n * For forms with submit/cancel buttons\n */\nexport interface FormModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSubmit: () => void;\n  title: string;\n  children: React.ReactNode;\n  submitText?: string;\n  cancelText?: string;\n  isLoading?: boolean;\n  submitDisabled?: boolean;\n  size?: 'sm' | 'md' | 'lg' | 'xl' | 'full';\n}\n\nexport const FormModal: React.FC<FormModalProps> = ({\n  isOpen,\n  onClose,\n  onSubmit,\n  title,\n  children,\n  submitText,\n  cancelText,\n  isLoading = false,\n  submitDisabled = false,\n  size = 'md',\n}) => {\n  const { t } = useTranslation('common');\n  return (\n    <Modal\n      isOpen={isOpen}\n      onClose={onClose}\n      title={title}\n      size={size}\n      footer={\n        <>\n          <button\n            onClick={onClose}\n            disabled={isLoading}\n            className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-slate-700 border border-gray-300 dark:border-slate-600 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            {cancelText || t('cancel')}\n          </button>\n          <button\n            onClick={onSubmit}\n            disabled={isLoading || submitDisabled}\n            className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            {isLoading ? t('saving') : (submitText || t('save'))}\n          </button>\n        </>\n      }\n    >\n      {children}\n    </Modal>\n  );\n};\n\n\n\n"],"names":["sizeClasses","Modal","isOpen","onClose","title","children","size","showCloseButton","closeOnOverlayClick","closeOnEscape","footer","headerClassName","bodyClassName","footerClassName","t","useTranslation","useEffect","handleEscape","e","jsx","jsxs","X","ConfirmModal","onConfirm","message","confirmText","cancelText","variant","isLoading","variantClasses","Fragment","FormModal","onSubmit","submitText","submitDisabled"],"mappings":"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"}