{"version":3,"file":"TeamChatPage-CLtRv26r.js","sources":["../../node_modules/lucide-react/dist/esm/icons/hash.js","../../node_modules/lucide-react/dist/esm/icons/video-off.js","../../src/features/admin/pages/team/hooks/useTeamChat.ts","../../src/features/admin/pages/team/hooks/useTeamChatActions.ts","../../src/features/admin/pages/team/hooks/useTeamChatKeyboard.ts","../../src/features/admin/pages/team/hooks/useTeamChatEffects.ts","../../src/features/admin/pages/team/components/TeamChatHeader.tsx","../../src/features/admin/pages/team/components/TeamChatSidebar.tsx","../../src/features/admin/pages/team/components/TeamChatInput.tsx","../../src/features/admin/pages/team/components/modals/CallModal.tsx","../../src/features/admin/pages/team/components/modals/CreateChannelModal.tsx","../../src/features/admin/pages/team/components/modals/DeleteConfirmModal.tsx","../../src/features/admin/pages/team/utils/helpers.ts","../../src/features/admin/pages/team/components/modals/SearchModal.tsx","../../src/features/admin/pages/team/TeamChatPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"9\", y2: \"9\", key: \"4lhtct\" }],\n  [\"line\", { x1: \"4\", x2: \"20\", y1: \"15\", y2: \"15\", key: \"vyu0kd\" }],\n  [\"line\", { x1: \"10\", x2: \"8\", y1: \"3\", y2: \"21\", key: \"1ggp8o\" }],\n  [\"line\", { x1: \"16\", x2: \"14\", y1: \"3\", y2: \"21\", key: \"weycgp\" }]\n];\nconst Hash = createLucideIcon(\"hash\", __iconNode);\n\nexport { __iconNode, Hash as default };\n//# sourceMappingURL=hash.js.map\n","/**\n * @license lucide-react v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    { d: \"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196\", key: \"w8jjjt\" }\n  ],\n  [\"path\", { d: \"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2\", key: \"1xawa7\" }],\n  [\"path\", { d: \"m2 2 20 20\", key: \"1ooewy\" }]\n];\nconst VideoOff = createLucideIcon(\"video-off\", __iconNode);\n\nexport { __iconNode, VideoOff as default };\n//# sourceMappingURL=video-off.js.map\n","/**\n * useTeamChat Hook - Centralized State Management for Team Chat\n * \n * Consolidates 43+ useState hooks into a single, organized hook\n * Enterprise Pattern: Single Source of Truth for Component State\n */\nimport { useState, useRef } from 'react';\nimport type { TeamChannel, TeamChatMessage } from '@/types';\n\nexport interface TeamChatState {\n  // Data State\n  channels: TeamChannel[];\n  selectedChannel: TeamChannel | null;\n  messages: TeamChatMessage[];\n  notifications: any[];\n  \n  // Input State\n  messageInput: string;\n  channelSearchQuery: string;\n  messageSearchQuery: string;\n  editingContent: string;\n  \n  // UI State - Modals\n  showNotifications: boolean;\n  showUserMenu: boolean;\n  showSearchModal: boolean;\n  showCreateChannelModal: boolean;\n  showMembersSidebar: boolean;\n  showChannelInfoModal: boolean;\n  showNewDMModal: boolean;\n  showThreadSidebar: boolean;\n  \n  // UI State - Inline Menus\n  showAttachMenu: boolean;\n  showEmojiPicker: boolean;\n  showMentionMenu: boolean;\n  showScrollButton: boolean;\n  showMessageActions: string | null;\n  showReactionPicker: string | null;\n  showDeleteConfirm: string | null;\n  editingMessageId: string | null;\n  \n  // Message State\n  replyingTo: TeamChatMessage | null;\n  selectedThreadMessage: TeamChatMessage | null;\n  threadReplies: TeamChatMessage[];\n  typingUsers: string[];\n  isSending: boolean;\n  \n  // Call State\n  showCallModal: 'voice' | 'video' | null;\n  callStatus: 'calling' | 'connected' | 'ended';\n  callDuration: number;\n  isMicMuted: boolean;\n  isVideoOff: boolean;\n  isSpeakerMuted: boolean;\n}\n\nexport interface TeamChatRefs {\n  messagesEndRef: React.RefObject<HTMLDivElement>;\n  fileInputRef: React.RefObject<HTMLInputElement>;\n  imageInputRef: React.RefObject<HTMLInputElement>;\n  videoInputRef: React.RefObject<HTMLInputElement>;\n}\n\nexport function useTeamChat() {\n  // Data State\n  const [channels, setChannels] = useState<TeamChannel[]>([]);\n  const [selectedChannel, setSelectedChannel] = useState<TeamChannel | null>(null);\n  const [messages, setMessages] = useState<TeamChatMessage[]>([]);\n  const [notifications, setNotifications] = useState<any[]>([]);\n  \n  // Input State\n  const [messageInput, setMessageInput] = useState('');\n  const [channelSearchQuery, setChannelSearchQuery] = useState('');\n  const [messageSearchQuery, setMessageSearchQuery] = useState('');\n  const [editingContent, setEditingContent] = useState('');\n  \n  // UI State - Modals\n  const [showNotifications, setShowNotifications] = useState(false);\n  const [showUserMenu, setShowUserMenu] = useState(false);\n  const [showSearchModal, setShowSearchModal] = useState(false);\n  const [showCreateChannelModal, setShowCreateChannelModal] = useState(false);\n  const [showMembersSidebar, setShowMembersSidebar] = useState(false);\n  const [showChannelInfoModal, setShowChannelInfoModal] = useState(false);\n  const [showNewDMModal, setShowNewDMModal] = useState(false);\n  const [showThreadSidebar, setShowThreadSidebar] = useState(false);\n  \n  // UI State - Inline Menus\n  const [showAttachMenu, setShowAttachMenu] = useState(false);\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false);\n  const [showMentionMenu, setShowMentionMenu] = useState(false);\n  const [showScrollButton, setShowScrollButton] = useState(false);\n  const [showMessageActions, setShowMessageActions] = useState<string | null>(null);\n  const [showReactionPicker, setShowReactionPicker] = useState<string | null>(null);\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState<string | null>(null);\n  const [editingMessageId, setEditingMessageId] = useState<string | null>(null);\n  \n  // Message State\n  const [replyingTo, setReplyingTo] = useState<TeamChatMessage | null>(null);\n  const [selectedThreadMessage, setSelectedThreadMessage] = useState<TeamChatMessage | null>(null);\n  const [threadReplies, setThreadReplies] = useState<TeamChatMessage[]>([]);\n  const [typingUsers, setTypingUsers] = useState<string[]>([]);\n  const [isSending, setIsSending] = useState(false);\n  \n  // Call State\n  const [showCallModal, setShowCallModal] = useState<'voice' | 'video' | null>(null);\n  const [callStatus, setCallStatus] = useState<'calling' | 'connected' | 'ended'>('calling');\n  const [callDuration, setCallDuration] = useState(0);\n  const [isMicMuted, setIsMicMuted] = useState(false);\n  const [isVideoOff, setIsVideoOff] = useState(false);\n  const [isSpeakerMuted, setIsSpeakerMuted] = useState(false);\n  \n  // Refs\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const imageInputRef = useRef<HTMLInputElement>(null);\n  const videoInputRef = useRef<HTMLInputElement>(null);\n\n  return {\n    // Data\n    channels,\n    setChannels,\n    selectedChannel,\n    setSelectedChannel,\n    messages,\n    setMessages,\n    notifications,\n    setNotifications,\n    \n    // Input\n    messageInput,\n    setMessageInput,\n    channelSearchQuery,\n    setChannelSearchQuery,\n    messageSearchQuery,\n    setMessageSearchQuery,\n    editingContent,\n    setEditingContent,\n    \n    // UI - Modals\n    showNotifications,\n    setShowNotifications,\n    showUserMenu,\n    setShowUserMenu,\n    showSearchModal,\n    setShowSearchModal,\n    showCreateChannelModal,\n    setShowCreateChannelModal,\n    showMembersSidebar,\n    setShowMembersSidebar,\n    showChannelInfoModal,\n    setShowChannelInfoModal,\n    showNewDMModal,\n    setShowNewDMModal,\n    showThreadSidebar,\n    setShowThreadSidebar,\n    \n    // UI - Inline Menus\n    showAttachMenu,\n    setShowAttachMenu,\n    showEmojiPicker,\n    setShowEmojiPicker,\n    showMentionMenu,\n    setShowMentionMenu,\n    showScrollButton,\n    setShowScrollButton,\n    showMessageActions,\n    setShowMessageActions,\n    showReactionPicker,\n    setShowReactionPicker,\n    showDeleteConfirm,\n    setShowDeleteConfirm,\n    editingMessageId,\n    setEditingMessageId,\n    \n    // Message\n    replyingTo,\n    setReplyingTo,\n    selectedThreadMessage,\n    setSelectedThreadMessage,\n    threadReplies,\n    setThreadReplies,\n    typingUsers,\n    setTypingUsers,\n    isSending,\n    setIsSending,\n    \n    // Call\n    showCallModal,\n    setShowCallModal,\n    callStatus,\n    setCallStatus,\n    callDuration,\n    setCallDuration,\n    isMicMuted,\n    setIsMicMuted,\n    isVideoOff,\n    setIsVideoOff,\n    isSpeakerMuted,\n    setIsSpeakerMuted,\n    \n    // Refs\n    refs: {\n      messagesEndRef,\n      fileInputRef,\n      imageInputRef,\n      videoInputRef,\n    },\n  };\n}\n\n","/**\n * useTeamChatActions Hook - Business Logic for Team Chat\n * \n * Consolidates all action handlers into a single, reusable hook\n * Enterprise Pattern: Separation of State and Business Logic\n */\nimport { useTranslation } from 'react-i18next';\nimport { logger } from '@/shared/utils/logger';\nimport type { TeamChannel, TeamChatMessage } from '@/types';\n\ninterface UseTeamChatActionsProps {\n  selectedChannel: TeamChannel | null;\n  messageInput: string;\n  isSending: boolean;\n  messages: TeamChatMessage[];\n  replyingTo: TeamChatMessage | null;\n  setMessages: React.Dispatch<React.SetStateAction<TeamChatMessage[]>>;\n  setMessageInput: React.Dispatch<React.SetStateAction<string>>;\n  setReplyingTo: React.Dispatch<React.SetStateAction<TeamChatMessage | null>>;\n  setIsSending: React.Dispatch<React.SetStateAction<boolean>>;\n  messagesEndRef: React.RefObject<HTMLDivElement>;\n}\n\nexport function useTeamChatActions(props: UseTeamChatActionsProps) {\n  const { t } = useTranslation();\n  const {\n    selectedChannel,\n    messageInput,\n    isSending,\n    replyingTo,\n    setMessages,\n    setMessageInput,\n    setReplyingTo,\n    setIsSending,\n    messagesEndRef,\n  } = props;\n\n  /**\n   * Load messages for a specific channel\n   * ✅ API-READY: GET /api/team/channels/:channelId/messages\n   */\n  const loadMessagesForChannel = (channelId: string) => {\n    logger.debug('Loading messages for channel', { channelId });\n    \n    // TODO: Fetch from API\n    // try {\n    //   const response = await teamService.getChannelMessages(channelId);\n    //   setMessages(response.data);\n    // } catch (error) {\n    //   logger.error('Failed to load messages:', error);\n    // }\n    \n    setMessages([]);\n  };\n\n  /**\n   * Send message to channel\n   * ✅ API-READY: POST /api/team/channels/:channelId/messages\n   */\n  const handleSendMessage = async () => {\n    if (!messageInput.trim() || !selectedChannel || isSending) return;\n\n    setIsSending(true);\n    \n    logger.debug('Sending message', { \n      channelId: selectedChannel.id, \n      content: messageInput,\n      replyToId: replyingTo?.id \n    });\n    \n    // TODO: Send via API\n    // try {\n    //   const payload = {\n    //     channelId: selectedChannel.id,\n    //     content: messageInput,\n    //     type: 'text',\n    //     replyToId: replyingTo?.id,\n    //   };\n    //   const response = await teamService.sendMessage(payload);\n    //   setMessages(prev => [...prev, response.data]);\n    // } catch (error) {\n    //   logger.error('Failed to send message:', error);\n    // }\n\n    setMessageInput('');\n    setReplyingTo(null);\n    setIsSending(false);\n    scrollToBottom();\n  };\n\n  /**\n   * Upload file and send as message\n   * ✅ API-READY: POST /api/team/channels/:channelId/messages/upload\n   */\n  const handleFileUpload = (file: File, type: 'image' | 'video' | 'file') => {\n    if (!selectedChannel) return;\n\n    // Validation\n    if (file.size > 10 * 1024 * 1024) {\n      alert(t('admin.team.fileSizeLimit'));\n      return;\n    }\n\n    if (type === 'image' && !file.type.startsWith('image/')) {\n      alert(t('admin.team.invalidImageFile'));\n      return;\n    }\n    \n    if (type === 'video' && !file.type.startsWith('video/')) {\n      alert(t('admin.team.invalidVideoFile'));\n      return;\n    }\n\n    logger.debug('Uploading file', { \n      fileName: file.name, \n      fileSize: file.size,\n      fileType: type \n    });\n\n    // TODO: Upload via API\n    // try {\n    //   const formData = new FormData();\n    //   formData.append('file', file);\n    //   formData.append('channelId', selectedChannel.id);\n    //   formData.append('type', type);\n    //   \n    //   const response = await teamService.uploadFile(formData);\n    //   setMessages(prev => [...prev, response.data]);\n    // } catch (error) {\n    //   logger.error('Failed to upload file:', error);\n    // }\n  };\n\n  /**\n   * Add emoji reaction to message\n   * ✅ API-READY: POST /api/team/messages/:messageId/reactions\n   * \n   * Note: In real implementation, userId should come from auth context\n   */\n  const handleReaction = (messageId: string, emoji: string) => {\n    logger.debug('Adding reaction', { messageId, emoji });\n    \n    // TODO: Send via API\n    // try {\n    //   await teamService.addReaction(messageId, emoji);\n    // } catch (error) {\n    //   logger.error('Failed to add reaction:', error);\n    // }\n    \n    // For now, just add the reaction to the array\n    // In production, backend should handle this\n    setMessages(prev =>\n      prev.map(msg =>\n        msg.id === messageId\n          ? {\n              ...msg,\n              reactions: [\n                ...msg.reactions,\n                {\n                  emoji,\n                  userId: 'current-user', // TODO: Get from auth context\n                  timestamp: new Date().toISOString(),\n                },\n              ],\n            }\n          : msg\n      )\n    );\n  };\n\n  /**\n   * Edit message\n   * ✅ API-READY: PATCH /api/team/messages/:messageId\n   */\n  const handleEditMessage = async (messageId: string, newContent: string) => {\n    if (!newContent.trim()) return;\n\n    logger.debug('Editing message', { messageId, newContent });\n    \n    // TODO: Send via API\n    // try {\n    //   await teamService.editMessage(messageId, { content: newContent });\n    // } catch (error) {\n    //   logger.error('Failed to edit message:', error);\n    // }\n    \n    setMessages(prev =>\n      prev.map(msg =>\n        msg.id === messageId\n          ? { ...msg, content: newContent, isEdited: true }\n          : msg\n      )\n    );\n  };\n\n  /**\n   * Delete message\n   * ✅ API-READY: DELETE /api/team/messages/:messageId\n   */\n  const handleDeleteMessage = async (messageId: string) => {\n    logger.debug('Deleting message', { messageId });\n    \n    // TODO: Send via API\n    // try {\n    //   await teamService.deleteMessage(messageId);\n    // } catch (error) {\n    //   logger.error('Failed to delete message:', error);\n    // }\n    \n    setMessages(prev => prev.filter(msg => msg.id !== messageId));\n  };\n\n  /**\n   * Bookmark message\n   * ✅ API-READY: POST /api/team/messages/:messageId/bookmark\n   * \n   * Note: Uses isPinned property as bookmark functionality\n   * In production, this should be a separate bookmarks array per user\n   */\n  const handleBookmark = (messageId: string) => {\n    logger.debug('Bookmarking message', { messageId });\n    \n    // TODO: Send via API\n    // try {\n    //   await teamService.bookmarkMessage(messageId);\n    // } catch (error) {\n    //   logger.error('Failed to bookmark message:', error);\n    // }\n    \n    setMessages(prev =>\n      prev.map(msg =>\n        msg.id === messageId \n          ? { ...msg, isPinned: !msg.isPinned } \n          : msg\n      )\n    );\n  };\n\n  /**\n   * Scroll to bottom of messages\n   */\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  return {\n    loadMessagesForChannel,\n    handleSendMessage,\n    handleFileUpload,\n    handleReaction,\n    handleEditMessage,\n    handleDeleteMessage,\n    handleBookmark,\n    scrollToBottom,\n  };\n}\n\n","/**\n * useTeamChatKeyboard Hook - Centralized Keyboard Shortcut Management\n * \n * Implements enterprise-grade keyboard navigation and shortcuts\n * Follows WCAG 2.1 AA accessibility standards\n * \n * @see https://www.w3.org/WAI/WCAG21/Understanding/keyboard\n */\nimport { useEffect } from 'react';\nimport { logger } from '@/shared/utils/logger';\n\ninterface UseTeamChatKeyboardProps {\n  /**\n   * Modal visibility state setters\n   */\n  setShowSearchModal: (show: boolean) => void;\n  setShowCreateChannelModal: (show: boolean) => void;\n  setShowCallModal: (show: 'voice' | 'video' | null) => void;\n  setShowChannelInfoModal: (show: boolean) => void;\n  setShowNewDMModal: (show: boolean) => void;\n  setShowNotifications: (show: boolean) => void;\n  setShowUserMenu: (show: boolean) => void;\n  setShowMembersSidebar: (show: boolean) => void;\n  \n  /**\n   * Optional: Enable/disable keyboard shortcuts\n   * @default true\n   */\n  enabled?: boolean;\n}\n\n/**\n * Centralized keyboard shortcut management for Team Chat\n * \n * Supported Shortcuts:\n * - Esc: Close all modals and menus\n * - Cmd/Ctrl + K: Open search modal\n * - Cmd/Ctrl + /: Show keyboard shortcuts help (future)\n * \n * @param props Configuration object\n */\nexport function useTeamChatKeyboard(props: UseTeamChatKeyboardProps) {\n  const {\n    setShowSearchModal,\n    setShowCreateChannelModal,\n    setShowCallModal,\n    setShowChannelInfoModal,\n    setShowNewDMModal,\n    setShowNotifications,\n    setShowUserMenu,\n    setShowMembersSidebar,\n    enabled = true,\n  } = props;\n\n  useEffect(() => {\n    if (!enabled) {\n      logger.debug('[TeamChat] Keyboard shortcuts disabled');\n      return;\n    }\n\n    /**\n     * Keyboard event handler\n     * Implements escape key for modal dismissal (WCAG 2.1 AA requirement)\n     * \n     * @see https://www.w3.org/WAI/WCAG21/Techniques/client-side-script/SCR27\n     */\n    const handleKeyDown = (event: KeyboardEvent) => {\n      // Escape key: Close all modals and overlays\n      if (event.key === 'Escape') {\n        logger.debug('[TeamChat] Escape key pressed - closing all modals', {\n          timestamp: new Date().toISOString(),\n        });\n\n        setShowSearchModal(false);\n        setShowCreateChannelModal(false);\n        setShowCallModal(null);\n        setShowChannelInfoModal(false);\n        setShowNewDMModal(false);\n        setShowNotifications(false);\n        setShowUserMenu(false);\n        setShowMembersSidebar(false);\n        \n        // Prevent default behavior\n        event.preventDefault();\n        return;\n      }\n\n      // Cmd/Ctrl + K: Open search modal\n      if ((event.metaKey || event.ctrlKey) && event.key === 'k') {\n        logger.debug('[TeamChat] Search shortcut triggered', {\n          timestamp: new Date().toISOString(),\n        });\n\n        setShowSearchModal(true);\n        event.preventDefault();\n        return;\n      }\n\n      // Future shortcuts can be added here\n      // Examples:\n      // - Cmd/Ctrl + N: New channel\n      // - Cmd/Ctrl + Shift + K: New DM\n      // - Cmd/Ctrl + /: Show shortcuts help\n    };\n\n    // Attach event listener\n    window.addEventListener('keydown', handleKeyDown, { passive: false });\n\n    logger.debug('[TeamChat] Keyboard shortcuts initialized', {\n      enabled,\n      supportedKeys: ['Escape', 'Cmd/Ctrl+K'],\n    });\n\n    // Cleanup on unmount\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      logger.debug('[TeamChat] Keyboard shortcuts cleaned up');\n    };\n  }, [\n    enabled,\n    setShowSearchModal,\n    setShowCreateChannelModal,\n    setShowCallModal,\n    setShowChannelInfoModal,\n    setShowNewDMModal,\n    setShowNotifications,\n    setShowUserMenu,\n    setShowMembersSidebar,\n  ]);\n\n  // No return value - this is a side-effect only hook\n  return null;\n}\n\n","/**\n * useTeamChatEffects Hook - Centralized Side Effects Management\n * \n * Consolidates all useEffect hooks into a single, maintainable hook\n * Enterprise Pattern: Separation of Concerns for Side Effects\n * \n * Responsibilities:\n * - Call timer management\n * - Call status auto-progression\n * - Call state reset on modal close\n * - Initial data loading\n */\nimport { useEffect } from 'react';\nimport { logger } from '@/shared/utils/logger';\n\ninterface UseTeamChatEffectsProps {\n  /**\n   * Call modal visibility and status\n   */\n  showCallModal: 'voice' | 'video' | null;\n  callStatus: 'calling' | 'connected' | 'ended';\n  \n  /**\n   * State setters for call management\n   */\n  setCallStatus: (status: 'calling' | 'connected' | 'ended') => void;\n  setCallDuration: React.Dispatch<React.SetStateAction<number>>;\n  setIsMicMuted: (muted: boolean) => void;\n  setIsVideoOff: (off: boolean) => void;\n  setIsSpeakerMuted: (muted: boolean) => void;\n  \n  /**\n   * Optional: Callbacks for data loading\n   */\n  onMount?: () => void;\n}\n\n/**\n * Manages all side effects for Team Chat\n * \n * This hook implements three critical effects:\n * 1. Call timer increment (when call is active)\n * 2. Auto-connect simulation (calling → connected)\n * 3. Call state reset (when modal closes)\n * \n * @param props Configuration object\n */\nexport function useTeamChatEffects(props: UseTeamChatEffectsProps) {\n  const {\n    showCallModal,\n    callStatus,\n    setCallStatus,\n    setCallDuration,\n    setIsMicMuted,\n    setIsVideoOff,\n    setIsSpeakerMuted,\n    onMount,\n  } = props;\n\n  /**\n   * Effect 1: Initial data loading on mount\n   * \n   * ✅ API-READY: Replace with real data fetching\n   * Backend endpoints:\n   * - GET /api/team/channels\n   * - GET /api/team/notifications\n   */\n  useEffect(() => {\n    logger.info('[TeamChat] Component mounted - loading initial data', {\n      timestamp: new Date().toISOString(),\n    });\n\n    if (onMount) {\n      onMount();\n    }\n\n    // TODO: Fetch initial data from API\n    // Example:\n    // const loadInitialData = async () => {\n    //   try {\n    //     const [channels, notifications] = await Promise.all([\n    //       teamService.getChannels(),\n    //       teamService.getNotifications(),\n    //     ]);\n    //     setChannels(channels.data);\n    //     setNotifications(notifications.data);\n    //   } catch (error) {\n    //     logger.error('[TeamChat] Failed to load initial data:', error);\n    //   }\n    // };\n    // loadInitialData();\n\n    return () => {\n      logger.debug('[TeamChat] Component unmounting');\n    };\n  }, []);\n\n  /**\n   * Effect 2: Call timer increment\n   * \n   * Increments call duration every second when call is active and connected\n   * Uses setInterval for precise timing\n   * \n   * @performance Interval is cleared on unmount to prevent memory leaks\n   */\n  useEffect(() => {\n    if (showCallModal && callStatus === 'connected') {\n      logger.debug('[TeamChat] Starting call timer', {\n        callType: showCallModal,\n        timestamp: new Date().toISOString(),\n      });\n\n      const interval = setInterval(() => {\n        setCallDuration(prev => {\n          const newDuration = prev + 1;\n          \n          // Log every minute for monitoring\n          if (newDuration % 60 === 0) {\n            logger.info('[TeamChat] Call duration milestone', {\n              minutes: newDuration / 60,\n              callType: showCallModal,\n            });\n          }\n          \n          return newDuration;\n        });\n      }, 1000);\n\n      // Cleanup: Clear interval on unmount or when dependencies change\n      return () => {\n        clearInterval(interval);\n        logger.debug('[TeamChat] Call timer stopped');\n      };\n    }\n  }, [showCallModal, callStatus, setCallDuration]);\n\n  /**\n   * Effect 3: Auto-connect simulation\n   * \n   * Simulates connection establishment after 3 seconds\n   * In production, this would be replaced by actual WebRTC signaling\n   * \n   * ✅ PRODUCTION-READY: Replace with real WebRTC connection logic\n   * \n   * @see https://webrtc.org/getting-started/overview\n   */\n  useEffect(() => {\n    if (showCallModal && callStatus === 'calling') {\n      logger.debug('[TeamChat] Call initiated - simulating connection', {\n        callType: showCallModal,\n        timeout: 3000,\n      });\n\n      const timeout = setTimeout(() => {\n        setCallStatus('connected');\n        logger.info('[TeamChat] Call connected', {\n          callType: showCallModal,\n          timestamp: new Date().toISOString(),\n        });\n      }, 3000);\n\n      // Cleanup: Clear timeout on unmount or when dependencies change\n      return () => {\n        clearTimeout(timeout);\n        logger.debug('[TeamChat] Connection timeout cleared');\n      };\n    }\n  }, [showCallModal, callStatus, setCallStatus]);\n\n  /**\n   * Effect 4: Reset call state when modal closes\n   * \n   * Implements cleanup pattern to reset all call-related state\n   * when the call modal is dismissed\n   * \n   * Pattern: State reset in effect (intentional side effect)\n   * This is a legitimate use case for setState in useEffect\n   * \n   * @see https://react.dev/learn/synchronizing-with-effects#resetting-state-when-a-prop-changes\n   */\n  useEffect(() => {\n    if (!showCallModal) {\n      logger.debug('[TeamChat] Call modal closed - resetting call state', {\n        timestamp: new Date().toISOString(),\n      });\n\n      // Reset all call-related state to initial values\n      // Note: Intentional setState in effect - this is a reset pattern\n      setCallStatus('calling');\n      setCallDuration(0);\n      setIsMicMuted(false);\n      setIsVideoOff(false);\n      setIsSpeakerMuted(false);\n    }\n  }, [\n    showCallModal,\n    setCallStatus,\n    setCallDuration,\n    setIsMicMuted,\n    setIsVideoOff,\n    setIsSpeakerMuted,\n  ]);\n\n  // No return value - this is a side-effect only hook\n  return null;\n}\n\n","/**\n * TeamChatHeader Component - Top Navigation Bar\n * \n * Enterprise-grade header with navigation, search, notifications, and user menu\n * Implements responsive design and accessibility best practices\n */\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  ArrowLeft,\n  MessageSquare,\n  Search,\n  Bell,\n  ChevronDown,\n  User,\n  Settings,\n  LogOut,\n} from 'lucide-react';\nimport type { User as UserType } from '@/types';\n\ninterface TeamChatHeaderProps {\n  /**\n   * Current authenticated user\n   */\n  user: UserType | null;\n  \n  /**\n   * Notifications array\n   */\n  notifications: any[];\n  \n  /**\n   * UI state\n   */\n  showNotifications: boolean;\n  showUserMenu: boolean;\n  \n  /**\n   * State setters\n   */\n  setShowNotifications: (show: boolean) => void;\n  setShowUserMenu: (show: boolean) => void;\n  setShowSearchModal: (show: boolean) => void;\n  \n  /**\n   * Callbacks\n   */\n  onNotificationClick?: (notification: any) => void;\n}\n\n/**\n * TeamChatHeader - Modular header component\n * \n * Features:\n * - Back navigation\n * - Search modal trigger\n * - Notifications dropdown\n * - User menu dropdown\n * - Responsive design\n */\nexport function TeamChatHeader(props: TeamChatHeaderProps) {\n  const { t } = useTranslation('admin');\n  const {\n    user,\n    notifications,\n    showNotifications,\n    showUserMenu,\n    setShowNotifications,\n    setShowUserMenu,\n    setShowSearchModal,\n    onNotificationClick,\n  } = props;\n\n  const navigate = useNavigate();\n\n  /**\n   * Handle notification click\n   */\n  const handleNotificationClick = (notification: any) => {\n    setShowNotifications(false);\n    \n    if (onNotificationClick) {\n      onNotificationClick(notification);\n    }\n  };\n\n  /**\n   * Handle logout\n   */\n  const handleLogout = () => {\n    setShowUserMenu(false);\n    \n    if (confirm(t('teamChat.header.confirmLogout'))) {\n      navigate(user?.role === 'agent' ? '/agent/login' : '/admin/login');\n    }\n  };\n\n  return (\n    <div className=\"bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-3 sm:px-4 py-2 sm:py-3 flex-shrink-0\">\n      <div className=\"flex items-center justify-between\">\n        {/* Left Side - Navigation */}\n        <div className=\"flex items-center gap-2 sm:gap-3\">\n          <button\n            onClick={() => navigate(-1)}\n            className=\"p-1.5 sm:p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n            aria-label={t('team.header.back')}\n            type=\"button\"\n          >\n            <ArrowLeft className=\"w-4 h-4 sm:w-5 sm:h-5 text-gray-600 dark:text-gray-400\" aria-hidden=\"true\" />\n          </button>\n          \n          <div className=\"flex items-center gap-1.5 sm:gap-2\">\n            <MessageSquare className=\"w-5 h-5 sm:w-6 sm:h-6 text-purple-600 dark:text-purple-400\" aria-hidden=\"true\" />\n            <h1 className=\"text-lg sm:text-xl font-bold text-gray-900 dark:text-white\">\n              {t('teamChat.header.title')}\n            </h1>\n          </div>\n        </div>\n\n        {/* Right Side - Actions */}\n        <div className=\"flex items-center gap-1 sm:gap-2\">\n          {/* Search Button */}\n          <button \n            onClick={() => setShowSearchModal(true)}\n            className=\"p-1.5 sm:p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n            aria-label={t('team.header.search')}\n            type=\"button\"\n          >\n            <Search className=\"w-4 h-4 sm:w-5 sm:h-5 text-gray-600 dark:text-gray-400\" aria-hidden=\"true\" />\n          </button>\n\n          {/* Notifications Dropdown */}\n          <div className=\"relative\">\n            <button\n              onClick={() => setShowNotifications(!showNotifications)}\n              className=\"relative p-1.5 sm:p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n              aria-label={t('team.header.notifications')}\n              aria-expanded={showNotifications}\n              type=\"button\"\n            >\n              <Bell className=\"w-4 h-4 sm:w-5 sm:h-5 text-gray-600 dark:text-gray-400\" aria-hidden=\"true\" />\n              \n              {/* Unread indicator */}\n              {notifications.filter((n: any) => n.unread).length > 0 && (\n                <span \n                  className=\"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full\"\n                  aria-label={t('teamChat.header.unreadNotifications', { count: notifications.filter((n: any) => n.unread).length })}\n                />\n              )}\n            </button>\n            \n            {showNotifications && (\n              <>\n                {/* Backdrop */}\n                <div \n                  className=\"fixed inset-0 z-10\" \n                  onClick={() => setShowNotifications(false)}\n                  aria-hidden=\"true\"\n                />\n                \n                {/* Dropdown */}\n                <div \n                  className=\"absolute right-0 top-full mt-2 w-80 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg shadow-xl z-20 max-h-96 overflow-y-auto\"\n                  role=\"menu\"\n                  aria-label={t('teamChat.header.notificationsAria')}\n                >\n                  <div className=\"p-3 border-b border-gray-200 dark:border-slate-700\">\n                    <h3 className=\"font-semibold text-gray-900 dark:text-white\">\n                      {t('teamChat.header.notifications')}\n                    </h3>\n                  </div>\n                  \n                  <div className=\"divide-y divide-gray-200 dark:divide-slate-700\">\n                    {notifications.length === 0 ? (\n                      <div className=\"p-4 text-center text-gray-500 dark:text-gray-400 text-sm\">\n                        {t('teamChat.header.noNotifications')}\n                      </div>\n                    ) : (\n                      notifications.map((notif: any) => (\n                        <button\n                          key={notif.id}\n                          onClick={() => handleNotificationClick(notif)}\n                          className={`w-full p-3 text-left hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors ${\n                            notif.unread ? 'bg-blue-50 dark:bg-blue-900/10' : ''\n                          }`}\n                          role=\"menuitem\"\n                          type=\"button\"\n                        >\n                          <p className=\"text-sm text-gray-900 dark:text-white\">\n                            {notif.message}\n                          </p>\n                          <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                            {notif.time}\n                          </p>\n                        </button>\n                      ))\n                    )}\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n\n          {/* User Menu Dropdown */}\n          <div className=\"relative\">\n            <button \n              onClick={() => setShowUserMenu(!showUserMenu)}\n              className=\"flex items-center gap-1.5 sm:gap-2 p-1.5 sm:p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n              aria-label={t('team.header.userMenu')}\n              aria-expanded={showUserMenu}\n              type=\"button\"\n            >\n              <img\n                src={user?.profile?.avatar || 'https://api.dicebear.com/7.x/avataaars/svg?seed=user'}\n                alt={user?.name || 'User'}\n                className=\"w-7 h-7 sm:w-8 sm:h-8 rounded-full\"\n              />\n              <ChevronDown className=\"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-600 dark:text-gray-400\" aria-hidden=\"true\" />\n            </button>\n            \n            {showUserMenu && (\n              <>\n                {/* Backdrop */}\n                <div \n                  className=\"fixed inset-0 z-10\" \n                  onClick={() => setShowUserMenu(false)}\n                  aria-hidden=\"true\"\n                />\n                \n                {/* Dropdown */}\n                <div \n                  className=\"absolute right-0 top-full mt-2 w-56 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg shadow-xl z-20 overflow-hidden\"\n                  role=\"menu\"\n                  aria-label={t('team.header.userMenu')}\n                >\n                  {/* User Info */}\n                  <div className=\"p-3 border-b border-gray-200 dark:border-slate-700\">\n                    <p className=\"font-semibold text-gray-900 dark:text-white\">\n                      {user?.name}\n                    </p>\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                      {user?.email}\n                    </p>\n                  </div>\n                  \n                  {/* Menu Items */}\n                  <div className=\"p-2\">\n                    <button \n                      onClick={() => {\n                        setShowUserMenu(false);\n                        navigate(user?.role === 'agent' ? '/agent/profile' : '/admin/settings');\n                      }}\n                      className=\"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded text-sm text-gray-900 dark:text-gray-100 transition-colors\"\n                      role=\"menuitem\"\n                      type=\"button\"\n                    >\n                      <User className=\"w-4 h-4\" aria-hidden=\"true\" />\n                      <span>{t('teamChat.header.myProfile')}</span>\n                    </button>\n                    \n                    <button \n                      onClick={() => {\n                        setShowUserMenu(false);\n                        navigate(user?.role === 'agent' ? '/agent/settings' : '/admin/settings');\n                      }}\n                      className=\"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded text-sm text-gray-900 dark:text-gray-100 transition-colors\"\n                      role=\"menuitem\"\n                      type=\"button\"\n                    >\n                      <Settings className=\"w-4 h-4\" aria-hidden=\"true\" />\n                      <span>{t('teamChat.header.settings')}</span>\n                    </button>\n                    \n                    <div className=\"border-t border-gray-200 dark:border-slate-600 my-1\" />\n                    \n                    <button \n                      onClick={handleLogout}\n                      className=\"w-full flex items-center gap-2 px-3 py-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded text-sm text-red-600 dark:text-red-400 transition-colors\"\n                      role=\"menuitem\"\n                      type=\"button\"\n                    >\n                      <LogOut className=\"w-4 h-4\" aria-hidden=\"true\" />\n                      <span>{t('team.chat.logout')}</span>\n                    </button>\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","/**\n * TeamChatSidebar Component - Channel Navigation\n * \n * Enterprise-grade sidebar with channel list and search\n * Implements responsive design and keyboard navigation\n * \n * Features:\n * - Channel categorization (channels vs direct messages)\n * - Real-time search filtering\n * - Active channel highlighting\n * - Unread badge indicators\n * - Create channel CTA (permission-based)\n * - Pin/unpin channels\n * \n * @see https://www.nngroup.com/articles/navigation-sidebar/\n */\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Hash, Lock, Plus, Search, MessageSquare } from 'lucide-react';\nimport type { TeamChannel } from '@/types';\n\ninterface TeamChatSidebarProps {\n  /**\n   * List of all channels\n   */\n  channels: TeamChannel[];\n  \n  /**\n   * Currently selected channel\n   */\n  selectedChannel: TeamChannel | null;\n  \n  /**\n   * Search query for filtering channels\n   */\n  searchQuery: string;\n  \n  /**\n   * Whether current user can manage channels\n   */\n  canManageChannels: boolean;\n  \n  /**\n   * State setters\n   */\n  setSearchQuery: (query: string) => void;\n  setShowCreateChannelModal: (show: boolean) => void;\n  setShowNewDMModal: (show: boolean) => void;\n  \n  /**\n   * Callbacks\n   */\n  onChannelSelect: (channel: TeamChannel) => void;\n}\n\n/**\n * TeamChatSidebar - Channel navigation component\n * \n * Implements:\n * - Responsive design (hidden on mobile, visible on md+)\n * - Channel filtering by name\n * - Channel type icons (public/private/direct)\n * - Unread count badges\n * - Pinned channels priority\n */\nexport function TeamChatSidebar(props: TeamChatSidebarProps) {\n  const { t } = useTranslation('admin');\n  const {\n    channels,\n    selectedChannel,\n    searchQuery,\n    canManageChannels,\n    setSearchQuery,\n    setShowCreateChannelModal,\n    setShowNewDMModal,\n    onChannelSelect,\n  } = props;\n\n  /**\n   * Filter channels by search query\n   */\n  const filterChannels = (channelList: TeamChannel[]) => {\n    if (!searchQuery.trim()) {\n      return channelList;\n    }\n    \n    const query = searchQuery.toLowerCase();\n    return channelList.filter(channel =>\n      channel.name.toLowerCase().includes(query)\n    );\n  };\n\n  /**\n   * Get channels by type (excluding direct messages)\n   */\n  const publicChannels = filterChannels(\n    channels.filter(ch => ch.type !== 'direct')\n  );\n\n  /**\n   * Get direct messages\n   */\n  const directMessages = filterChannels(\n    channels.filter(ch => ch.type === 'direct')\n  );\n\n  /**\n   * Sort channels: pinned first, then by name\n   */\n  const sortChannels = (channelList: TeamChannel[]) => {\n    return [...channelList].sort((a, b) => {\n      // Pinned channels first\n      if (a.isPinned && !b.isPinned) return -1;\n      if (!a.isPinned && b.isPinned) return 1;\n      \n      // Then alphabetically\n      return a.name.localeCompare(b.name);\n    });\n  };\n\n  /**\n   * Render channel icon based on type\n   */\n  const renderChannelIcon = (channel: TeamChannel) => {\n    if (channel.type === 'direct') {\n      return (\n        <img\n          src={channel.metadata?.avatar || `https://api.dicebear.com/7.x/avataaars/svg?seed=${channel.id}`}\n          alt={channel.name}\n          className=\"w-5 h-5 rounded flex-shrink-0\"\n        />\n      );\n    }\n    \n    if (channel.type === 'private') {\n      return (\n        <Lock \n          className=\"w-4 h-4 text-gray-500 dark:text-gray-400 flex-shrink-0\" \n          aria-label={t('teamChat.sidebar.privateChannel')}\n        />\n      );\n    }\n    \n    return (\n      <Hash \n        className=\"w-4 h-4 text-gray-500 dark:text-gray-400 flex-shrink-0\"\n        aria-label={t('teamChat.sidebar.publicChannel')}\n      />\n    );\n  };\n\n  /**\n   * Render channel list item\n   */\n  const renderChannelItem = (channel: TeamChannel) => {\n    const isSelected = selectedChannel?.id === channel.id;\n    const hasUnread = (channel.unreadCount || 0) > 0;\n    \n    return (\n      <button\n        key={channel.id}\n        onClick={() => onChannelSelect(channel)}\n        className={`w-full flex items-center justify-between gap-2 px-2 py-1.5 rounded text-sm mb-1 transition-colors ${\n          isSelected\n            ? 'bg-purple-50 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300'\n            : 'hover:bg-gray-100 dark:hover:bg-slate-700 text-gray-700 dark:text-gray-300'\n        }`}\n        aria-label={`${channel.name}${hasUnread ? `, ${t('teamChat.sidebar.unreadMessages', { count: channel.unreadCount })}` : ''}`}\n        aria-current={isSelected ? 'page' : undefined}\n        type=\"button\"\n      >\n        <div className=\"flex items-center gap-2 min-w-0 flex-1\">\n          {renderChannelIcon(channel)}\n          \n          <span className={`truncate ${hasUnread ? 'font-semibold' : ''}`}>\n            {channel.name}\n          </span>\n        </div>\n        \n        {/* Unread badge */}\n        {hasUnread && (\n          <span \n            className=\"flex-shrink-0 px-1.5 py-0.5 bg-purple-600 dark:bg-purple-500 text-white text-xs rounded-full min-w-[20px] text-center\"\n            aria-label={t('teamChat.sidebar.unread', { count: channel.unreadCount })}\n          >\n            {channel.unreadCount! > 99 ? '99+' : channel.unreadCount}\n          </span>\n        )}\n      </button>\n    );\n  };\n\n  return (\n    <div className=\"hidden md:flex md:w-64 lg:w-72 bg-white dark:bg-slate-800 border-r border-gray-200 dark:border-slate-700 flex-col\">\n      {/* Sidebar Header */}\n      <div className=\"p-3 sm:p-4 border-b border-gray-200 dark:border-slate-700\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h2 className=\"font-semibold text-gray-900 dark:text-white\">\n            {t('teamChat.sidebar.channels')}\n          </h2>\n          \n          {canManageChannels && (\n            <button \n              onClick={() => setShowCreateChannelModal(true)}\n              className=\"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded transition-colors\"\n              aria-label={t('teamChat.sidebar.createChannel')}\n              title={t('teamChat.sidebar.createChannelAdmin')}\n              type=\"button\"\n            >\n              <Plus className=\"w-4 h-4 text-gray-600 dark:text-gray-400\" aria-hidden=\"true\" />\n            </button>\n          )}\n        </div>\n        \n        {/* Search Input */}\n        <div className=\"relative\">\n          <Search \n            className=\"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" \n            aria-hidden=\"true\"\n          />\n          <input\n            type=\"text\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            placeholder={t('teamChat.sidebar.searchChannels')}\n            className=\"w-full pl-8 pr-3 py-1.5 text-sm bg-gray-100 dark:bg-slate-700 border-0 rounded-lg focus:ring-2 focus:ring-purple-500 text-gray-900 dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400\"\n            aria-label={t('teamChat.sidebar.searchChannelsAria')}\n          />\n        </div>\n      </div>\n\n      {/* Channel Lists */}\n      <div className=\"flex-1 overflow-y-auto p-2\">\n        {/* Public/Private Channels Section */}\n        <div className=\"mb-4\">\n          <div className=\"flex items-center justify-between px-2 mb-2\">\n            <p className=\"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase\">\n              {t('teamChat.sidebar.channelsSection')}\n            </p>\n            {publicChannels.length > 0 && (\n              <span className=\"text-xs text-gray-400 dark:text-gray-500\">\n                {publicChannels.length}\n              </span>\n            )}\n          </div>\n          \n          {sortChannels(publicChannels).map(renderChannelItem)}\n          \n          {publicChannels.length === 0 && (\n            <p className=\"px-2 py-4 text-xs text-gray-500 dark:text-gray-400 text-center\">\n              {searchQuery ? t('teamChat.sidebar.noChannelsFound') : t('teamChat.sidebar.noChannelsYet')}\n            </p>\n          )}\n        </div>\n\n        {/* Direct Messages Section */}\n        <div>\n          <div className=\"flex items-center justify-between px-2 mb-2\">\n            <p className=\"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase\">\n              {t('teamChat.sidebar.directMessages')}\n            </p>\n            <button\n              onClick={() => setShowNewDMModal(true)}\n              className=\"p-0.5 hover:bg-gray-100 dark:hover:bg-slate-700 rounded transition-colors\"\n              aria-label={t('teamChat.sidebar.newDirectMessage')}\n              type=\"button\"\n            >\n              <Plus className=\"w-3.5 h-3.5 text-gray-500 dark:text-gray-400\" aria-hidden=\"true\" />\n            </button>\n          </div>\n          \n          {sortChannels(directMessages).map(renderChannelItem)}\n          \n          {directMessages.length === 0 && (\n            <p className=\"px-2 py-4 text-xs text-gray-500 dark:text-gray-400 text-center\">\n              {searchQuery ? t('teamChat.sidebar.noUsersFound') : t('teamChat.sidebar.noDirectMessagesYet')}\n            </p>\n          )}\n        </div>\n      </div>\n\n      {/* Sidebar Footer (Optional) */}\n      <div className=\"p-3 border-t border-gray-200 dark:border-slate-700\">\n        <div className=\"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400\">\n          <MessageSquare className=\"w-4 h-4\" aria-hidden=\"true\" />\n          <span>\n            {t('teamChat.sidebar.channelCount', { count: channels.length })}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","/**\n * TeamChatInput Component - Message Composition Area\n * \n * Enterprise-grade input component with rich features\n * Implements accessibility and keyboard shortcuts\n * \n * Features:\n * - Multi-line textarea with auto-resize\n * - File/image/video upload\n * - Emoji picker trigger\n * - @mention support\n * - Reply-to message UI\n * - Send button with loading state\n * - Character/file size validation\n * \n * @see https://www.w3.org/WAI/WCAG21/Understanding/keyboard\n */\nimport React, { useRef, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Send,\n  Smile,\n  Paperclip,\n  Image as ImageIcon,\n  Video as VideoIcon,\n  X,\n  AtSign,\n} from 'lucide-react';\nimport type { TeamChatMessage } from '@/types';\n\ninterface TeamChatInputProps {\n  /**\n   * Current message input value\n   */\n  messageInput: string;\n  \n  /**\n   * Whether a message is currently being sent\n   */\n  isSending: boolean;\n  \n  /**\n   * Message being replied to (if any)\n   */\n  replyingTo: TeamChatMessage | null;\n  \n  /**\n   * UI state\n   */\n  showAttachMenu: boolean;\n  showEmojiPicker: boolean;\n  showMentionMenu: boolean;\n  \n  /**\n   * Refs for file inputs\n   */\n  fileInputRef: React.RefObject<HTMLInputElement>;\n  imageInputRef: React.RefObject<HTMLInputElement>;\n  videoInputRef: React.RefObject<HTMLInputElement>;\n  \n  /**\n   * State setters\n   */\n  setMessageInput: (value: string) => void;\n  setReplyingTo: (message: TeamChatMessage | null) => void;\n  setShowAttachMenu: (show: boolean) => void;\n  setShowEmojiPicker: (show: boolean) => void;\n  setShowMentionMenu: (show: boolean) => void;\n  \n  /**\n   * Callbacks\n   */\n  onSendMessage: () => void;\n  onFileUpload: (file: File, type: 'image' | 'video' | 'file') => void;\n}\n\n/**\n * TeamChatInput - Professional message composition interface\n * \n * Implements:\n * - Keyboard shortcuts (Enter to send, Shift+Enter for newline)\n * - Auto-focus on mount\n * - File upload validation\n * - ARIA labels for accessibility\n * - Responsive design\n */\nexport function TeamChatInput(props: TeamChatInputProps) {\n  const { t } = useTranslation('admin');\n  const {\n    messageInput,\n    isSending,\n    replyingTo,\n    showAttachMenu,\n    showEmojiPicker,\n    showMentionMenu,\n    fileInputRef,\n    imageInputRef,\n    videoInputRef,\n    setMessageInput,\n    setReplyingTo,\n    setShowAttachMenu,\n    setShowEmojiPicker,\n    setShowMentionMenu,\n    onSendMessage,\n    onFileUpload,\n  } = props;\n\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  /**\n   * Auto-resize textarea based on content\n   */\n  useEffect(() => {\n    const textarea = textareaRef.current;\n    if (!textarea) return;\n\n    // Reset height to auto to get correct scrollHeight\n    textarea.style.height = 'auto';\n    \n    // Set height based on content, max 200px\n    const newHeight = Math.min(textarea.scrollHeight, 200);\n    textarea.style.height = `${newHeight}px`;\n  }, [messageInput]);\n\n  /**\n   * Auto-focus textarea on mount\n   */\n  useEffect(() => {\n    textareaRef.current?.focus();\n  }, []);\n\n  /**\n   * Handle keyboard shortcuts\n   * - Enter: Send message (unless Shift is pressed)\n   * - Shift+Enter: New line\n   */\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    // Send on Enter (without Shift)\n    if (event.key === 'Enter' && !event.shiftKey) {\n      event.preventDefault();\n      onSendMessage();\n    }\n    \n    // Check for @ mention trigger\n    if (event.key === '@') {\n      setShowMentionMenu(true);\n    }\n  };\n\n  /**\n   * Handle file input change\n   */\n  const handleFileChange = (\n    event: React.ChangeEvent<HTMLInputElement>,\n    type: 'image' | 'video' | 'file'\n  ) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    onFileUpload(file, type);\n    \n    // Reset input\n    event.target.value = '';\n  };\n\n  /**\n   * Check if send button should be disabled\n   */\n  const isSendDisabled = !messageInput.trim() || isSending;\n\n  return (\n    <div className=\"border-t border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-800 p-3 sm:p-4\">\n      {/* Reply-to Preview */}\n      {replyingTo && (\n        <div className=\"mb-2 p-2 bg-gray-100 dark:bg-slate-700 rounded-lg flex items-start justify-between gap-2\">\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center gap-1 mb-1\">\n              <span className=\"text-xs font-medium text-purple-600 dark:text-purple-400\">\n                {t('teamChat.input.replyingTo')}\n              </span>\n              <span className=\"text-xs text-gray-600 dark:text-gray-400\">\n                {t('teamChat.input.user', { userId: replyingTo.userId })}\n              </span>\n            </div>\n            <p className=\"text-sm text-gray-700 dark:text-gray-300 line-clamp-1\">\n              {replyingTo.content}\n            </p>\n          </div>\n          <button\n            onClick={() => setReplyingTo(null)}\n            className=\"p-1 hover:bg-gray-200 dark:hover:bg-slate-600 rounded transition-colors flex-shrink-0\"\n            aria-label={t('teamChat.input.cancelReply')}\n            type=\"button\"\n          >\n            <X className=\"w-4 h-4 text-gray-500 dark:text-gray-400\" aria-hidden=\"true\" />\n          </button>\n        </div>\n      )}\n\n      {/* Input Area */}\n      <div className=\"flex items-end gap-2\">\n        {/* Left Actions */}\n        <div className=\"flex items-center gap-1 flex-shrink-0\">\n          {/* Attachment Menu */}\n          <div className=\"relative\">\n            <button\n              onClick={() => setShowAttachMenu(!showAttachMenu)}\n              className=\"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n              aria-label={t('team.chat.addFile')}\n              aria-expanded={showAttachMenu}\n              disabled={isSending}\n              type=\"button\"\n            >\n              <Paperclip className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" aria-hidden=\"true\" />\n            </button>\n\n            {showAttachMenu && (\n              <>\n                {/* Backdrop */}\n                <div\n                  className=\"fixed inset-0 z-10\"\n                  onClick={() => setShowAttachMenu(false)}\n                  aria-hidden=\"true\"\n                />\n                \n                {/* Menu */}\n                <div \n                  className=\"absolute bottom-full left-0 mb-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg shadow-xl z-20 overflow-hidden\"\n                  role=\"menu\"\n                  aria-label={t('team.chat.fileOptions')}\n                >\n                  <button\n                    onClick={() => {\n                      imageInputRef.current?.click();\n                      setShowAttachMenu(false);\n                    }}\n                    className=\"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-slate-700 text-sm text-gray-700 dark:text-gray-300 transition-colors\"\n                    role=\"menuitem\"\n                    type=\"button\"\n                  >\n                    <ImageIcon className=\"w-4 h-4\" aria-hidden=\"true\" />\n                    <span>{t('teamChat.input.image')}</span>\n                  </button>\n                  \n                  <button\n                    onClick={() => {\n                      videoInputRef.current?.click();\n                      setShowAttachMenu(false);\n                    }}\n                    className=\"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-slate-700 text-sm text-gray-700 dark:text-gray-300 transition-colors\"\n                    role=\"menuitem\"\n                    type=\"button\"\n                  >\n                    <VideoIcon className=\"w-4 h-4\" aria-hidden=\"true\" />\n                    <span>{t('teamChat.input.video')}</span>\n                  </button>\n                  \n                  <button\n                    onClick={() => {\n                      fileInputRef.current?.click();\n                      setShowAttachMenu(false);\n                    }}\n                    className=\"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 dark:hover:bg-slate-700 text-sm text-gray-700 dark:text-gray-300 transition-colors\"\n                    role=\"menuitem\"\n                    type=\"button\"\n                  >\n                    <Paperclip className=\"w-4 h-4\" aria-hidden=\"true\" />\n                    <span>{t('teamChat.input.file')}</span>\n                  </button>\n                </div>\n              </>\n            )}\n          </div>\n\n          {/* Emoji Picker Trigger */}\n          <button\n            onClick={() => setShowEmojiPicker(!showEmojiPicker)}\n            className=\"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n            aria-label={t('teamChat.input.addEmoji')}\n            aria-expanded={showEmojiPicker}\n            disabled={isSending}\n            type=\"button\"\n          >\n            <Smile className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" aria-hidden=\"true\" />\n          </button>\n\n          {/* Mention Trigger */}\n          <button\n            onClick={() => setShowMentionMenu(!showMentionMenu)}\n            className=\"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n            aria-label={t('teamChat.input.mentionUser')}\n            aria-expanded={showMentionMenu}\n            disabled={isSending}\n            type=\"button\"\n          >\n            <AtSign className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" aria-hidden=\"true\" />\n          </button>\n        </div>\n\n        {/* Textarea */}\n        <div className=\"flex-1 min-w-0\">\n          <textarea\n            ref={textareaRef}\n            value={messageInput}\n            onChange={(e) => setMessageInput(e.target.value)}\n            onKeyDown={handleKeyDown}\n            placeholder={t('teamChat.input.messagePlaceholder')}\n            disabled={isSending}\n            rows={1}\n            className=\"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white placeholder:text-gray-500 dark:placeholder:text-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none transition-colors\"\n            aria-label={t('teamChat.input.typeMessage')}\n            style={{ minHeight: '40px', maxHeight: '200px' }}\n          />\n        </div>\n\n        {/* Send Button */}\n        <button\n          onClick={onSendMessage}\n          disabled={isSendDisabled}\n          className=\"p-2 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-300 dark:disabled:bg-slate-700 text-white rounded-lg transition-colors flex-shrink-0 disabled:cursor-not-allowed\"\n          aria-label={t('teamChat.input.send')}\n          type=\"button\"\n        >\n          <Send \n            className={`w-5 h-5 ${isSending ? 'animate-pulse' : ''}`} \n            aria-hidden=\"true\"\n          />\n        </button>\n      </div>\n\n      {/* Character Count (optional) */}\n      {messageInput.length > 900 && (\n        <div className=\"mt-1 text-right\">\n          <span className={`text-xs ${\n            messageInput.length > 1000 \n              ? 'text-red-600 dark:text-red-400 font-semibold' \n              : 'text-gray-500 dark:text-gray-400'\n          }`}>\n            {messageInput.length}/1000\n          </span>\n        </div>\n      )}\n\n      {/* Hidden File Inputs */}\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\"*/*\"\n        onChange={(e) => handleFileChange(e, 'file')}\n        className=\"hidden\"\n        aria-hidden=\"true\"\n      />\n      <input\n        ref={imageInputRef}\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={(e) => handleFileChange(e, 'image')}\n        className=\"hidden\"\n        aria-hidden=\"true\"\n      />\n      <input\n        ref={videoInputRef}\n        type=\"file\"\n        accept=\"video/*\"\n        onChange={(e) => handleFileChange(e, 'video')}\n        className=\"hidden\"\n        aria-hidden=\"true\"\n      />\n    </div>\n  );\n}\n\n","/**\n * CallModal Component - Voice/Video Call Interface\n * \n * Enterprise-grade real-time communication modal\n * Implements WebRTC-ready UI with full call controls\n * \n * Features:\n * - Voice/Video call support\n * - Mic/Video/Speaker mute controls\n * - Call duration timer\n * - Connection status indication\n * - Accessibility compliant (WCAG 2.1 AA)\n * \n * @see https://webrtc.org/\n */\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  Phone,\n  Video,\n  Mic,\n  MicOff,\n  VideoOff,\n  Volume2,\n  VolumeX,\n  PhoneOff,\n} from 'lucide-react';\nimport type { TeamChannel } from '@/types';\n\ninterface CallModalProps {\n  /**\n   * Call type: 'voice' or 'video'\n   */\n  callType: 'voice' | 'video';\n  \n  /**\n   * Current call status\n   */\n  callStatus: 'calling' | 'connected' | 'ended';\n  \n  /**\n   * Active channel for the call\n   */\n  selectedChannel: TeamChannel | null;\n  \n  /**\n   * Call duration in seconds\n   */\n  callDuration: number;\n  \n  /**\n   * Call control states\n   */\n  isMicMuted: boolean;\n  isVideoOff: boolean;\n  isSpeakerMuted: boolean;\n  \n  /**\n   * State setters\n   */\n  setIsMicMuted: (muted: boolean) => void;\n  setIsVideoOff: (off: boolean) => void;\n  setIsSpeakerMuted: (muted: boolean) => void;\n  setCallStatus: (status: 'calling' | 'connected' | 'ended') => void;\n  setShowCallModal: (show: 'voice' | 'video' | null) => void;\n}\n\n/**\n * Format call duration to MM:SS format\n * \n * @param seconds Total call duration in seconds\n * @returns Formatted string (e.g., \"05:42\")\n */\nfunction formatCallDuration(seconds: number): string {\n  const minutes = Math.floor(seconds / 60);\n  const remainingSeconds = seconds % 60;\n  return `${String(minutes).padStart(2, '0')}:${String(remainingSeconds).padStart(2, '0')}`;\n}\n\n/**\n * CallModal - Professional call interface with full controls\n */\nexport function CallModal(props: CallModalProps) {\n  const { t } = useTranslation('admin');\n  const {\n    callType,\n    callStatus,\n    selectedChannel,\n    callDuration,\n    isMicMuted,\n    isVideoOff,\n    isSpeakerMuted,\n    setIsMicMuted,\n    setIsVideoOff,\n    setIsSpeakerMuted,\n    setCallStatus,\n    setShowCallModal,\n  } = props;\n\n  /**\n   * Handle call end\n   * Implements graceful call termination with 1s delay for UX\n   */\n  const handleEndCall = () => {\n    setCallStatus('ended');\n    \n    // Close modal after 1 second to show \"ended\" state\n    setTimeout(() => {\n      setShowCallModal(null);\n    }, 1000);\n  };\n\n  /**\n   * Get status text based on call status\n   */\n  const getStatusText = (): string => {\n    switch (callStatus) {\n      case 'calling':\n        return t('team.modals.call.calling');\n      case 'connected':\n        return formatCallDuration(callDuration);\n      case 'ended':\n        return t('team.modals.call.callEnded');\n      default:\n        return '';\n    }\n  };\n\n  /**\n   * Get avatar background color based on status\n   */\n  const getAvatarColorClass = (): string => {\n    switch (callStatus) {\n      case 'calling':\n        return 'bg-blue-500/30 animate-pulse';\n      case 'connected':\n        return 'bg-green-500/30';\n      case 'ended':\n        return 'bg-red-500/30';\n      default:\n        return 'bg-blue-500/30';\n    }\n  };\n\n  return (\n    <div \n      className=\"fixed inset-0 bg-gradient-to-br from-purple-900/95 to-blue-900/95 flex items-center justify-center z-50 p-4 backdrop-blur-sm\"\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-labelledby=\"call-modal-title\"\n      aria-describedby=\"call-modal-description\"\n    >\n      <div className=\"bg-white/10 backdrop-blur-md rounded-3xl p-8 max-w-md w-full border border-white/20 shadow-2xl\">\n        <div className=\"text-center\">\n          {/* Avatar/Icon Section */}\n          <div className={`w-28 h-28 mx-auto mb-6 rounded-full flex items-center justify-center relative ${getAvatarColorClass()}`}>\n            {callType === 'voice' ? (\n              <Phone \n                className=\"w-14 h-14 text-white\" \n                aria-hidden=\"true\"\n              />\n            ) : (\n              <Video \n                className=\"w-14 h-14 text-white\" \n                aria-hidden=\"true\"\n              />\n            )}\n            \n            {/* Connected indicator */}\n            {callStatus === 'connected' && (\n              <div \n                className=\"absolute -bottom-2 -right-2 w-10 h-10 bg-green-500 rounded-full flex items-center justify-center border-4 border-white/10\"\n                aria-label={t('team.connected')}\n              >\n                <div className=\"w-3 h-3 bg-white rounded-full animate-pulse\" />\n              </div>\n            )}\n          </div>\n\n          {/* Channel Name */}\n          <h3 \n            id=\"call-modal-title\"\n            className=\"text-2xl font-bold text-white mb-2\"\n          >\n            {selectedChannel?.name || t('teamChat.modals.call.unknown')}\n          </h3>\n\n          {/* Call Status/Duration */}\n          <p \n            id=\"call-modal-description\"\n            className=\"text-white/70 text-lg mb-8\"\n            aria-live=\"polite\"\n            aria-atomic=\"true\"\n          >\n            {getStatusText()}\n          </p>\n\n          {/* Control Buttons */}\n          {callStatus !== 'ended' && (\n            <div \n              className=\"flex gap-4 justify-center mb-6\"\n              role=\"group\"\n              aria-label={t('team.callControls')}\n            >\n              {/* Microphone Toggle */}\n              <button\n                onClick={() => setIsMicMuted(!isMicMuted)}\n                className={`p-4 rounded-full transition-all ${\n                  isMicMuted\n                    ? 'bg-red-500 hover:bg-red-600'\n                    : 'bg-white/20 hover:bg-white/30'\n                }`}\n                aria-label={isMicMuted ? t('team.modals.call.micUnmute') : t('team.modals.call.micMute')}\n                aria-pressed={isMicMuted}\n                type=\"button\"\n              >\n                {isMicMuted ? (\n                  <MicOff className=\"w-6 h-6 text-white\" aria-hidden=\"true\" />\n                ) : (\n                  <Mic className=\"w-6 h-6 text-white\" aria-hidden=\"true\" />\n                )}\n              </button>\n\n              {/* Video Toggle (only for video calls) */}\n              {callType === 'video' && (\n                <button\n                  onClick={() => setIsVideoOff(!isVideoOff)}\n                  className={`p-4 rounded-full transition-all ${\n                    isVideoOff\n                      ? 'bg-red-500 hover:bg-red-600'\n                      : 'bg-white/20 hover:bg-white/30'\n                  }`}\n                  aria-label={isVideoOff ? t('team.modals.call.videoOn') : t('team.modals.call.videoOff')}\n                  aria-pressed={isVideoOff}\n                  type=\"button\"\n                >\n                  {isVideoOff ? (\n                    <VideoOff className=\"w-6 h-6 text-white\" aria-hidden=\"true\" />\n                  ) : (\n                    <Video className=\"w-6 h-6 text-white\" aria-hidden=\"true\" />\n                  )}\n                </button>\n              )}\n\n              {/* Speaker Toggle */}\n              <button\n                onClick={() => setIsSpeakerMuted(!isSpeakerMuted)}\n                className={`p-4 rounded-full transition-all ${\n                  isSpeakerMuted\n                    ? 'bg-red-500 hover:bg-red-600'\n                    : 'bg-white/20 hover:bg-white/30'\n                }`}\n                aria-label={isSpeakerMuted ? t('team.modals.call.speakerUnmute') : t('team.modals.call.speakerMute')}\n                aria-pressed={isSpeakerMuted}\n                type=\"button\"\n              >\n                {isSpeakerMuted ? (\n                  <VolumeX className=\"w-6 h-6 text-white\" aria-hidden=\"true\" />\n                ) : (\n                  <Volume2 className=\"w-6 h-6 text-white\" aria-hidden=\"true\" />\n                )}\n              </button>\n            </div>\n          )}\n\n          {/* End Call Button */}\n          <button\n            onClick={handleEndCall}\n            className=\"w-full px-6 py-4 bg-red-500 hover:bg-red-600 text-white rounded-2xl font-semibold flex items-center justify-center gap-3 transition-all shadow-lg hover:shadow-xl transform hover:scale-105\"\n            aria-label={t('team.endCall')}\n            type=\"button\"\n          >\n            <PhoneOff className=\"w-6 h-6\" aria-hidden=\"true\" />\n            {t('teamChat.modals.call.endCall')}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","/**\n * CreateChannelModal Component - Channel Creation Interface\n * \n * Enterprise-grade form modal for creating new team channels\n * Implements best practices for form accessibility and validation\n * \n * Features:\n * - Controlled form inputs\n * - Real-time validation\n * - Accessibility (WCAG 2.1 AA)\n * - Keyboard navigation\n * - Focus management\n * \n * @see https://www.w3.org/WAI/WCAG21/Understanding/labels-or-instructions\n */\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { X } from 'lucide-react';\nimport { logger } from '@/shared/utils/logger';\n\ninterface CreateChannelModalProps {\n  /**\n   * Callback when channel creation is requested\n   */\n  onCreateChannel: (data: ChannelFormData) => void;\n  \n  /**\n   * Callback when modal is closed\n   */\n  onClose: () => void;\n  \n  /**\n   * Whether the form is currently submitting\n   * @default false\n   */\n  isSubmitting?: boolean;\n}\n\n/**\n * Channel form data structure\n */\nexport interface ChannelFormData {\n  name: string;\n  description: string;\n  isPrivate: boolean;\n  memberSelection: 'all' | 'specific';\n  selectedMembers?: string[]; // User IDs\n}\n\n/**\n * CreateChannelModal - Professional form modal for channel creation\n * \n * Implements:\n * - Auto-focus on first input (accessibility)\n * - Form validation\n * - Enter to submit, Esc to cancel\n * - ARIA labels and descriptions\n */\nexport function CreateChannelModal(props: CreateChannelModalProps) {\n  const { t } = useTranslation('admin');\n  const { onCreateChannel, onClose, isSubmitting = false } = props;\n\n  // Form state\n  const [channelName, setChannelName] = useState('');\n  const [description, setDescription] = useState('');\n  const [isPrivate, setIsPrivate] = useState(false);\n  const [memberSelection, setMemberSelection] = useState<'all' | 'specific'>('all');\n  const [selectedMembers, setSelectedMembers] = useState<string[]>([]);\n  \n  // Validation state\n  const [nameError, setNameError] = useState('');\n  \n  // Ref for auto-focus\n  const nameInputRef = useRef<HTMLInputElement>(null);\n\n  /**\n   * Auto-focus on name input when modal opens\n   */\n  useEffect(() => {\n    nameInputRef.current?.focus();\n  }, []);\n\n  /**\n   * Validate channel name\n   * \n   * Rules:\n   * - Required\n   * - 3-50 characters\n   * - Alphanumeric, hyphens, underscores only\n   * - No spaces (replaced with hyphens)\n   */\n  const validateChannelName = (name: string): string | null => {\n    if (!name.trim()) {\n      return t('team.modals.createChannel.validation.nameRequired');\n    }\n    \n    if (name.length < 3) {\n      return t('team.modals.createChannel.validation.nameMinLength');\n    }\n    \n    if (name.length > 50) {\n      return t('team.modals.createChannel.validation.nameMaxLength');\n    }\n    \n    // Check for invalid characters\n    const validPattern = /^[a-zA-Z0-9-_\\s]+$/;\n    if (!validPattern.test(name)) {\n      return t('team.modals.createChannel.validation.nameInvalidChars');\n    }\n    \n    return null;\n  };\n\n  /**\n   * Handle channel name input change\n   * Automatically converts spaces to hyphens and validates\n   */\n  const handleNameChange = (value: string) => {\n    // Convert spaces to hyphens\n    const formattedValue = value.replace(/\\s+/g, '-').toLowerCase();\n    setChannelName(formattedValue);\n    \n    // Clear error when user starts typing\n    if (nameError) {\n      setNameError('');\n    }\n  };\n\n  /**\n   * Handle form submission\n   */\n  const handleSubmit = (event: React.FormEvent) => {\n    event.preventDefault();\n    \n    // Validate\n    const error = validateChannelName(channelName);\n    if (error) {\n      setNameError(error);\n      logger.warn('[CreateChannelModal] Validation failed', { error, channelName });\n      return;\n    }\n    \n    // Submit\n    const formData: ChannelFormData = {\n      name: channelName,\n      description: description.trim(),\n      isPrivate,\n      memberSelection,\n      selectedMembers: memberSelection === 'specific' ? selectedMembers : undefined,\n    };\n    \n    logger.info('[CreateChannelModal] Channel creation requested', { formData });\n    onCreateChannel(formData);\n  };\n\n  /**\n   * Handle backdrop click to close modal\n   */\n  const handleBackdropClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    if (event.target === event.currentTarget) {\n      onClose();\n    }\n  };\n\n  return (\n    <div \n      className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\"\n      onClick={handleBackdropClick}\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-labelledby=\"create-channel-modal-title\"\n    >\n      <div className=\"bg-white dark:bg-slate-800 rounded-xl p-6 max-w-md w-full shadow-2xl\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 \n            id=\"create-channel-modal-title\"\n            className=\"text-lg font-bold text-gray-900 dark:text-white\"\n          >\n            {t('teamChat.modals.createChannel.title')}\n          </h3>\n          <button\n            onClick={onClose}\n            className=\"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded transition-colors\"\n            aria-label={t('settings.team.channelModal.close')}\n            type=\"button\"\n            disabled={isSubmitting}\n          >\n            <X className=\"w-5 h-5\" aria-hidden=\"true\" />\n          </button>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          {/* Channel Name Input */}\n          <div>\n            <label \n              htmlFor=\"team-channel-name\" \n              className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\"\n            >\n              {t('teamChat.modals.createChannel.channelName')} <span className=\"text-red-500\" aria-label={t('settings.team.channelModal.required')}>*</span>\n            </label>\n            <input\n              ref={nameInputRef}\n              id=\"team-channel-name\"\n              type=\"text\"\n              value={channelName}\n              onChange={(e) => handleNameChange(e.target.value)}\n              placeholder={t('settings.team.channelModal.channelSlugPlaceholder')}\n              className={`w-full px-3 py-2 border rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors ${\n                nameError\n                  ? 'border-red-500 focus:ring-red-500'\n                  : 'border-gray-300 dark:border-slate-600'\n              }`}\n              aria-invalid={!!nameError}\n              aria-describedby={nameError ? 'name-error' : 'name-help'}\n              disabled={isSubmitting}\n              required\n            />\n            {nameError ? (\n              <p \n                id=\"name-error\" \n                className=\"mt-1 text-sm text-red-600 dark:text-red-400\"\n                role=\"alert\"\n              >\n                {nameError}\n              </p>\n            ) : (\n              <p \n                id=\"name-help\" \n                className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\"\n              >\n                {t('teamChat.modals.createChannel.spacesHelp')}\n              </p>\n            )}\n          </div>\n\n          {/* Description Input */}\n          <div>\n            <label \n              htmlFor=\"team-channel-description\" \n              className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\"\n            >\n              {t('team.modals.createChannel.descriptionOptional')}\n            </label>\n            <textarea\n              id=\"team-channel-description\"\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              placeholder={t('settings.team.channelModal.descriptionPlaceholder')}\n              rows={3}\n              maxLength={200}\n              className=\"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-colors resize-none\"\n              aria-describedby=\"description-counter\"\n              disabled={isSubmitting}\n            />\n            <p \n              id=\"description-counter\" \n              className=\"mt-1 text-xs text-gray-500 dark:text-gray-400 text-right\"\n            >\n              {description.length}/200\n            </p>\n          </div>\n\n          {/* Private Channel Checkbox */}\n          <div className=\"flex items-start gap-2\">\n            <input \n              type=\"checkbox\" \n              id=\"private-channel\" \n              checked={isPrivate}\n              onChange={(e) => setIsPrivate(e.target.checked)}\n              className=\"mt-0.5 rounded border-gray-300 text-purple-600 focus:ring-purple-500\"\n              disabled={isSubmitting}\n            />\n            <div className=\"flex-1\">\n              <label \n                htmlFor=\"private-channel\" \n                className=\"text-sm font-medium text-gray-700 dark:text-gray-300 cursor-pointer\"\n              >\n                {t('teamChat.modals.createChannel.makePrivate')}\n              </label>\n              <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-0.5\">\n                {t('teamChat.modals.createChannel.privateHelp')}\n              </p>\n            </div>\n          </div>\n\n          {/* Member Selection */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              {t('teamChat.modals.createChannel.members')}\n            </label>\n            <div className=\"space-y-2\">\n              <label className=\"flex items-center gap-2 cursor-pointer\">\n                <input\n                  type=\"radio\"\n                  name=\"member-selection\"\n                  value=\"all\"\n                  checked={memberSelection === 'all'}\n                  onChange={() => setMemberSelection('all')}\n                  className=\"text-purple-600 focus:ring-purple-500\"\n                  disabled={isSubmitting}\n                />\n                <span className=\"text-sm text-gray-700 dark:text-gray-300\">\n                  {t('teamChat.modals.createChannel.allTeam')}\n                </span>\n              </label>\n              <label className=\"flex items-center gap-2 cursor-pointer\">\n                <input\n                  type=\"radio\"\n                  name=\"member-selection\"\n                  value=\"specific\"\n                  checked={memberSelection === 'specific'}\n                  onChange={() => setMemberSelection('specific')}\n                  className=\"text-purple-600 focus:ring-purple-500\"\n                  disabled={isSubmitting}\n                />\n                <span className=\"text-sm text-gray-700 dark:text-gray-300\">\n                  {t('teamChat.modals.createChannel.specificMembers')}\n                </span>\n              </label>\n            </div>\n            {memberSelection === 'specific' && (\n              <div className=\"mt-2 p-3 bg-gray-50 dark:bg-slate-900 rounded-lg\">\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                  {t('teamChat.modals.createChannel.specificMembersHelp')}\n                </p>\n                {/* TODO: Add member selection UI when backend is ready */}\n              </div>\n            )}\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex gap-2 pt-2\">\n            <button\n              type=\"submit\"\n              disabled={isSubmitting || !channelName.trim()}\n              className=\"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus:ring-2 focus:ring-purple-500 focus:ring-offset-2\"\n            >\n              {isSubmitting ? (t('team.modals.createChannel.creating') || 'Creating...') : (t('team.modals.createChannel.create') || 'Create')}\n            </button>\n            <button\n              type=\"button\"\n              onClick={onClose}\n              disabled={isSubmitting}\n              className=\"px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {t('common:cancel')}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\n","/**\n * DeleteConfirmModal Component - Destructive Action Confirmation\n * \n * Enterprise-grade confirmation modal for destructive operations\n * Follows UX best practices for preventing accidental data loss\n * \n * Design Principles:\n * - Clear warning indication (red color scheme)\n * - Explicit action labeling (\"Sil\" not \"OK\")\n * - Easy escape path (Cancel button, Esc key, backdrop click)\n * - Focus management for accessibility\n * \n * @see https://www.nngroup.com/articles/confirmation-dialog/\n */\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Trash2 } from 'lucide-react';\n\ninterface DeleteConfirmModalProps {\n  /**\n   * ID of the message to be deleted\n   */\n  messageId: string;\n  \n  /**\n   * Callback when deletion is confirmed\n   */\n  onConfirm: (messageId: string) => void;\n  \n  /**\n   * Callback when deletion is cancelled\n   */\n  onCancel: () => void;\n  \n  /**\n   * Optional: Custom title\n   * @default \"Mesajı Sil\"\n   */\n  title?: string;\n  \n  /**\n   * Optional: Custom description\n   * @default \"Bu mesajı silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.\"\n   */\n  description?: string;\n  \n  /**\n   * Optional: Custom confirm button text\n   * @default \"Sil\"\n   */\n  confirmText?: string;\n  \n  /**\n   * Optional: Custom cancel button text\n   * @default \"İptal\"\n   */\n  cancelText?: string;\n}\n\n/**\n * DeleteConfirmModal - Reusable confirmation dialog for destructive actions\n * \n * Implements:\n * - ARIA dialog pattern\n * - Keyboard navigation (Enter/Esc)\n * - Focus trap\n * - Semantic HTML\n */\nexport function DeleteConfirmModal(props: DeleteConfirmModalProps) {\n  const { t } = useTranslation('admin');\n  const {\n    messageId,\n    onConfirm,\n    onCancel,\n    title = t('team.deleteMessage'),\n    description = t('team.deleteMessageConfirm'),\n    confirmText = t('common.delete'),\n    cancelText = t('common.cancel'),\n  } = props;\n\n  /**\n   * Handle backdrop click to close modal\n   */\n  const handleBackdropClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    // Only close if clicking the backdrop itself, not its children\n    if (event.target === event.currentTarget) {\n      onCancel();\n    }\n  };\n\n  /**\n   * Handle confirm action\n   */\n  const handleConfirm = () => {\n    onConfirm(messageId);\n  };\n\n  return (\n    <div \n      className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\"\n      onClick={handleBackdropClick}\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-labelledby=\"delete-modal-title\"\n      aria-describedby=\"delete-modal-description\"\n    >\n      <div className=\"bg-white dark:bg-slate-800 rounded-xl p-6 max-w-sm w-full shadow-2xl transform transition-all\">\n        <div className=\"text-center\">\n          {/* Warning Icon */}\n          <div \n            className=\"w-12 h-12 mx-auto bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mb-4\"\n            aria-hidden=\"true\"\n          >\n            <Trash2 className=\"w-6 h-6 text-red-600 dark:text-red-400\" />\n          </div>\n\n          {/* Title */}\n          <h3 \n            id=\"delete-modal-title\"\n            className=\"text-lg font-bold text-gray-900 dark:text-white mb-2\"\n          >\n            {title}\n          </h3>\n\n          {/* Description */}\n          <p \n            id=\"delete-modal-description\"\n            className=\"text-gray-600 dark:text-gray-400 mb-6\"\n          >\n            {description}\n          </p>\n\n          {/* Action Buttons */}\n          <div className=\"flex gap-3\">\n            {/* Cancel Button (left, secondary) */}\n            <button\n              onClick={onCancel}\n              className=\"flex-1 px-4 py-2 border border-gray-300 dark:border-slate-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors font-medium\"\n              type=\"button\"\n              autoFocus\n            >\n              {cancelText}\n            </button>\n\n            {/* Confirm Button (right, primary destructive) */}\n            <button\n              onClick={handleConfirm}\n              className=\"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium focus:ring-2 focus:ring-red-500 focus:ring-offset-2\"\n              type=\"button\"\n            >\n              {confirmText}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","/**\n * Team Chat Helper Utilities\n * \n * Enterprise-grade utility functions for Team Chat feature\n * Re-exports shared formatters with team-chat-specific wrappers\n * \n * Principles:\n * - DRY: Use shared formatters\n * - Type-safe implementations\n * - Comprehensive error handling\n * - Unit-testable\n */\n\nimport { \n  formatTime as sharedFormatTime, \n  formatDuration,\n  formatFileSize as sharedFormatFileSize \n} from '@/shared/utils/formatters';\nimport { logger } from '@/shared/utils/logger';\n\n/**\n * Format timestamp to human-readable time string\n * Wrapper around shared formatTime with team-chat-specific error handling\n * \n * @param timestamp ISO 8601 timestamp string\n * @returns Formatted time string (HH:MM)\n * \n * @example\n * formatTime('2024-01-15T14:30:00Z') // \"14:30\"\n */\nexport function formatTime(timestamp: string): string {\n  try {\n    return sharedFormatTime(timestamp);\n  } catch (error) {\n    logger.error('[TeamChat] Error formatting time', error as Error);\n    return '--:--';\n  }\n}\n\n/**\n * Format call duration from seconds to MM:SS format\n * Wrapper around shared formatDuration\n * \n * @param seconds Total duration in seconds\n * @returns Formatted duration string (MM:SS)\n * \n * @example\n * formatCallDuration(125) // \"02:05\"\n * formatCallDuration(3600) // \"60:00\"\n */\nexport function formatCallDuration(seconds: number): string {\n  return formatDuration(seconds);\n}\n\n/**\n * Format date to human-readable string\n * \n * @param dateString ISO 8601 date string\n * @param locale Optional locale (defaults to browser locale)\n * @returns Formatted date string (e.g., \"15 Ocak 2024\" for tr, \"January 15, 2024\" for en)\n * \n * @example\n * formatDate('2024-01-15T00:00:00Z', 'tr-TR') // \"15 Ocak 2024\"\n * formatDate('2024-01-15T00:00:00Z', 'en-US') // \"January 15, 2024\"\n */\nexport function formatDate(dateString: string, locale?: string): string {\n  try {\n    const date = new Date(dateString);\n    \n    // Validate date\n    if (isNaN(date.getTime())) {\n      logger.warn('[TeamChat] Invalid date', new Error(`Invalid date: ${dateString}`));\n      return 'Invalid Date'; // Keep English for error messages (enterprise standard)\n    }\n    \n    // Use provided locale or browser default\n    const effectiveLocale = locale || navigator.language || 'en-US';\n    \n    return date.toLocaleDateString(effectiveLocale, {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n    });\n  } catch (error) {\n    logger.error('[TeamChat] Error formatting date', error as Error);\n    return 'Invalid Date'; // Keep English for error messages (enterprise standard)\n  }\n}\n\n/**\n * Generate avatar URL for a user\n * \n * Uses DiceBear Avataaars API for consistent avatar generation\n * \n * @param seed Unique identifier for consistent avatar generation\n * @returns Avatar URL\n * \n * @example\n * getAvatarUrl('user123') // \"https://api.dicebear.com/7.x/avataaars/svg?seed=user123\"\n * \n * @see https://www.dicebear.com/\n */\nexport function getAvatarUrl(seed: string): string {\n  // Validate input\n  if (!seed || typeof seed !== 'string') {\n    logger.warn('[TeamChat] Invalid avatar seed', new Error(`Invalid seed: ${seed}`));\n    return 'https://api.dicebear.com/7.x/avataaars/svg?seed=default';\n  }\n  \n  // Encode seed to handle special characters\n  const encodedSeed = encodeURIComponent(seed);\n  \n  return `https://api.dicebear.com/7.x/avataaars/svg?seed=${encodedSeed}`;\n}\n\n/**\n * Truncate text to specified length with ellipsis\n * \n * @param text Text to truncate\n * @param maxLength Maximum length before truncation\n * @returns Truncated text with ellipsis if needed\n * \n * @example\n * truncateText('Hello World', 8) // \"Hello...\"\n * truncateText('Short', 10) // \"Short\"\n */\nexport function truncateText(text: string, maxLength: number): string {\n  // Validate inputs\n  if (!text || typeof text !== 'string') {\n    return '';\n  }\n  \n  if (typeof maxLength !== 'number' || maxLength <= 0) {\n    logger.warn('[TeamChat] Invalid maxLength', new Error(`Invalid maxLength: ${maxLength}`));\n    return text;\n  }\n  \n  if (text.length <= maxLength) {\n    return text;\n  }\n  \n  return `${text.substring(0, maxLength - 3)}...`;\n}\n\n/**\n * Check if a file type is an image\n * \n * @param fileType MIME type string\n * @returns true if image, false otherwise\n * \n * @example\n * isImageFile('image/png') // true\n * isImageFile('application/pdf') // false\n */\nexport function isImageFile(fileType: string): boolean {\n  if (!fileType || typeof fileType !== 'string') {\n    return false;\n  }\n  \n  return fileType.startsWith('image/');\n}\n\n/**\n * Check if a file type is a video\n * \n * @param fileType MIME type string\n * @returns true if video, false otherwise\n * \n * @example\n * isVideoFile('video/mp4') // true\n * isVideoFile('image/png') // false\n */\nexport function isVideoFile(fileType: string): boolean {\n  if (!fileType || typeof fileType !== 'string') {\n    return false;\n  }\n  \n  return fileType.startsWith('video/');\n}\n\n/**\n * Validate file size\n * \n * @param fileSize File size in bytes\n * @param maxSizeMB Maximum allowed size in megabytes\n * @returns true if valid, false if too large\n * \n * @example\n * isValidFileSize(5242880, 10) // true (5MB < 10MB)\n * isValidFileSize(15728640, 10) // false (15MB > 10MB)\n */\nexport function isValidFileSize(fileSize: number, maxSizeMB: number): boolean {\n  if (typeof fileSize !== 'number' || fileSize < 0) {\n    return false;\n  }\n  \n  if (typeof maxSizeMB !== 'number' || maxSizeMB <= 0) {\n    logger.warn('[TeamChat] Invalid maxSizeMB', new Error(`Invalid maxSizeMB: ${maxSizeMB}`));\n    return false;\n  }\n  \n  const maxSizeBytes = maxSizeMB * 1024 * 1024;\n  return fileSize <= maxSizeBytes;\n}\n\n/**\n * Format file size to human-readable string\n * Wrapper around shared formatFileSize\n * \n * @param bytes File size in bytes\n * @returns Formatted size string (e.g., \"1.5 MB\")\n * \n * @example\n * formatFileSize(1536) // \"1.50 KB\"\n * formatFileSize(1048576) // \"1.00 MB\"\n */\nexport function formatFileSize(bytes: number): string {\n  return sharedFormatFileSize(bytes);\n}\n\n","/**\n * SearchModal Component - Message Search Interface\n * \n * Enterprise-grade search modal for finding messages\n * Implements real-time search with keyboard navigation\n * \n * Features:\n * - Real-time message filtering\n * - Search result highlighting\n * - Click to scroll to message\n * - Empty state handling\n * - Keyboard shortcuts (Esc to close)\n * \n * @see https://www.w3.org/WAI/ARIA/apg/patterns/dialog-modal/\n */\nimport React, { useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Search, X } from 'lucide-react';\nimport type { TeamChatMessage } from '@/types';\nimport { formatTime, getAvatarUrl } from '../../utils/helpers';\n\ninterface SearchModalProps {\n  /**\n   * List of messages to search through\n   */\n  messages: TeamChatMessage[];\n  \n  /**\n   * Current search query\n   */\n  searchQuery: string;\n  \n  /**\n   * State setters\n   */\n  setSearchQuery: (query: string) => void;\n  \n  /**\n   * Callbacks\n   */\n  onClose: () => void;\n  onMessageClick: (messageId: string) => void;\n}\n\n/**\n * SearchModal - Professional message search interface\n * \n * Implements:\n * - Auto-focus on search input\n * - Real-time filtering\n * - Message preview with metadata\n * - Scroll to message on click\n * - ARIA dialog pattern\n */\nexport function SearchModal(props: SearchModalProps) {\n  const { t } = useTranslation('admin');\n  const {\n    messages,\n    searchQuery,\n    setSearchQuery,\n    onClose,\n    onMessageClick,\n  } = props;\n\n  const searchInputRef = useRef<HTMLInputElement>(null);\n\n  /**\n   * Auto-focus search input on mount\n   */\n  useEffect(() => {\n    searchInputRef.current?.focus();\n  }, []);\n\n  /**\n   * Filter messages by search query\n   */\n  const filteredMessages = searchQuery.trim()\n    ? messages.filter(msg =>\n        msg.content.toLowerCase().includes(searchQuery.toLowerCase())\n      )\n    : [];\n\n  /**\n   * Handle message click\n   */\n  const handleMessageClick = (messageId: string) => {\n    onMessageClick(messageId);\n    onClose();\n  };\n\n  /**\n   * Handle backdrop click\n   */\n  const handleBackdropClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    if (event.target === event.currentTarget) {\n      onClose();\n    }\n  };\n\n  return (\n    <div\n      className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\"\n      onClick={handleBackdropClick}\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-labelledby=\"search-modal-title\"\n    >\n      <div className=\"bg-white dark:bg-slate-800 rounded-xl p-6 max-w-2xl w-full max-h-[80vh] flex flex-col shadow-2xl\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-4 flex-shrink-0\">\n          <h3\n            id=\"search-modal-title\"\n            className=\"text-lg font-bold text-gray-900 dark:text-white\"\n          >\n            {t('teamChat.modals.search.title')}\n          </h3>\n          <button\n            onClick={onClose}\n            className=\"p-1 hover:bg-gray-100 dark:hover:bg-slate-700 rounded transition-colors\"\n            aria-label={t('reports.close')}\n            type=\"button\"\n          >\n            <X className=\"w-5 h-5\" aria-hidden=\"true\" />\n          </button>\n        </div>\n\n        {/* Search Input */}\n        <div className=\"mb-4 flex-shrink-0\">\n          <div className=\"relative\">\n            <Search\n              className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\"\n              aria-hidden=\"true\"\n            />\n            <input\n              ref={searchInputRef}\n              type=\"text\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              placeholder={t('team.searchMessages')}\n              className=\"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent placeholder:text-gray-500 dark:placeholder:text-gray-400\"\n              aria-label={t('team.searchQuery')}\n            />\n          </div>\n        </div>\n\n        {/* Results */}\n        <div className=\"flex-1 overflow-y-auto min-h-0\">\n          {searchQuery.trim() ? (\n            filteredMessages.length > 0 ? (\n              <div className=\"space-y-2\" role=\"list\" aria-label={t('team.searchResults')}>\n                {filteredMessages.map((message) => (\n                  <button\n                    key={message.id}\n                    onClick={() => handleMessageClick(message.id)}\n                    className=\"w-full p-3 text-left hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors\"\n                    type=\"button\"\n                  >\n                    <div className=\"flex items-start gap-2\">\n                      <img\n                        src={getAvatarUrl(message.userId)}\n                        alt={t('teamChat.messages.userAvatar')}\n                        className=\"w-8 h-8 rounded flex-shrink-0\"\n                      />\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-baseline gap-2 mb-1\">\n                          <span className=\"font-medium text-gray-900 dark:text-white text-sm\">\n                            {t('teamChat.modals.search.user', { userId: message.userId })}\n                          </span>\n                          <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n                            {formatTime(message.timestamp)}\n                          </span>\n                        </div>\n                        <p className=\"text-sm text-gray-700 dark:text-gray-300 line-clamp-2\">\n                          {message.content}\n                        </p>\n                      </div>\n                    </div>\n                  </button>\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center text-gray-500 dark:text-gray-400 py-12\">\n                <Search className=\"w-12 h-12 mx-auto mb-2 opacity-50\" aria-hidden=\"true\" />\n                <p className=\"font-medium\">{t('teamChat.modals.search.noResults')}</p>\n                <p className=\"text-sm mt-1\">\n                  {t('teamChat.modals.search.noResultsFor', { query: searchQuery })}\n                </p>\n              </div>\n            )\n          ) : (\n            <div className=\"text-center text-gray-500 dark:text-gray-400 py-12\">\n              <Search className=\"w-12 h-12 mx-auto mb-2 opacity-50\" aria-hidden=\"true\" />\n              <p className=\"font-medium\">{t('teamChat.modals.search.typeToSearch')}</p>\n              <p className=\"text-sm mt-1\">\n                {t('teamChat.modals.search.searchInContent')}\n              </p>\n            </div>\n          )}\n        </div>\n\n        {/* Footer (Result Count) */}\n        {searchQuery.trim() && filteredMessages.length > 0 && (\n          <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-slate-700 flex-shrink-0\">\n            <p className=\"text-sm text-gray-600 dark:text-gray-400 text-center\">\n              {t('teamChat.modals.search.resultsFound', { count: filteredMessages.length })}\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n","/**\n * TeamChatPage - Internal Team Communication\n * \n * Enterprise-grade modular architecture\n * Refactored from 1,818 lines monolithic to clean component composition\n * \n * Architecture:\n * - Custom hooks for state management (useTeamChat, useTeamChatActions, etc.)\n * - Modular UI components (Header, Sidebar, Input)\n * - Reusable modals (Call, Search, CreateChannel, etc.)\n * - Pure utility functions\n * - Separation of concerns (UI, Logic, State, Effects)\n * \n * Features:\n * - Real-time team messaging\n * - Channel management\n * - Direct messages\n * - File sharing\n * - Voice/Video calls\n * - Message search\n * - Keyboard shortcuts\n * \n * @author Enterprise Team\n * @version 2.0.0 (Refactored)\n */\nimport React, { useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useLocation } from 'react-router-dom';\nimport { useAuthStore } from '@/shared/stores/auth-store';\nimport { logger } from '@/shared/utils/logger';\n\n// Custom Hooks\nimport {\n  useTeamChat,\n  useTeamChatActions,\n  useTeamChatKeyboard,\n  useTeamChatEffects,\n} from './hooks';\n\n// UI Components\nimport {\n  TeamChatHeader,\n  TeamChatSidebar,\n  TeamChatInput,\n} from './components';\n\n// Modals\nimport {\n  CallModal,\n  CreateChannelModal,\n  DeleteConfirmModal,\n  SearchModal,\n  type ChannelFormData,\n} from './components/modals';\n\n// Utilities\nimport { formatTime } from './utils/helpers';\n\n// Types\nimport type { TeamChannel } from '@/types';\n\n/**\n * TeamChatPage - Main orchestrator component\n * \n * Responsibilities:\n * - Compose UI from modular components\n * - Coordinate state between hooks\n * - Handle high-level business logic\n * - Manage modal visibility\n * \n * This component is now ~300 lines (down from 1,818)\n * All complexity is delegated to specialized hooks and components\n */\nconst TeamChatPage: React.FC = () => {\n  const { t } = useTranslation('admin');\n  const location = useLocation();\n  \n  // ==================== AUTH ====================\n  const { user } = useAuthStore();\n\n  // ==================== STATE MANAGEMENT ====================\n  const state = useTeamChat();\n\n  // ==================== BUSINESS LOGIC ====================\n  const actions = useTeamChatActions({\n    selectedChannel: state.selectedChannel,\n    messageInput: state.messageInput,\n    isSending: state.isSending,\n    messages: state.messages,\n    replyingTo: state.replyingTo,\n    setMessages: state.setMessages,\n    setMessageInput: state.setMessageInput,\n    setReplyingTo: state.setReplyingTo,\n    setIsSending: state.setIsSending,\n    messagesEndRef: state.refs.messagesEndRef,\n  });\n\n  // ==================== SIDE EFFECTS ====================\n  useTeamChatEffects({\n    showCallModal: state.showCallModal,\n    callStatus: state.callStatus,\n    setCallStatus: state.setCallStatus,\n    setCallDuration: state.setCallDuration,\n    setIsMicMuted: state.setIsMicMuted,\n    setIsVideoOff: state.setIsVideoOff,\n    setIsSpeakerMuted: state.setIsSpeakerMuted,\n    onMount: () => {\n      logger.info('[TeamChatPage] Component mounted', {\n        userId: user?.id,\n        userRole: user?.role,\n      });\n      \n      // TODO: Load initial data\n      // fetchChannels();\n      // fetchNotifications();\n    },\n  });\n\n  // ==================== KEYBOARD SHORTCUTS ====================\n  useTeamChatKeyboard({\n    setShowSearchModal: state.setShowSearchModal,\n    setShowCreateChannelModal: state.setShowCreateChannelModal,\n    setShowCallModal: state.setShowCallModal,\n    setShowChannelInfoModal: state.setShowChannelInfoModal,\n    setShowNewDMModal: state.setShowNewDMModal,\n    setShowNotifications: state.setShowNotifications,\n    setShowUserMenu: state.setShowUserMenu,\n    setShowMembersSidebar: state.setShowMembersSidebar,\n    enabled: true,\n  });\n\n  // ==================== PERMISSIONS ====================\n  const isAdmin = user?.role === 'admin' || user?.role === 'owner';\n  const canManageChannels = isAdmin;\n\n  // ==================== EVENT HANDLERS ====================\n\n  /**\n   * Handle channel selection\n   */\n  const handleChannelSelect = (channel: TeamChannel) => {\n    logger.debug('[TeamChatPage] Channel selected', { channelId: channel.id });\n    \n    state.setSelectedChannel(channel);\n    actions.loadMessagesForChannel(channel.id);\n    \n    // Close mobile sidebar if needed\n    state.setShowMembersSidebar(false);\n  };\n\n  /**\n   * Handle channel creation\n   */\n  const handleCreateChannel = (formData: ChannelFormData) => {\n    logger.info('[TeamChatPage] Creating channel', { formData });\n    \n    // TODO: Send to API\n    // try {\n    //   const response = await teamService.createChannel(formData);\n    //   state.setChannels(prev => [...prev, response.data]);\n    //   state.setShowCreateChannelModal(false);\n    //   showSuccess('Kanal başarıyla oluşturuldu');\n    // } catch (error) {\n    //   logger.error('[TeamChatPage] Failed to create channel:', error);\n    //   showError('Kanal oluşturulamadı');\n    // }\n    \n    alert(t('teamChat.channelCreated', { name: formData.name }));\n    state.setShowCreateChannelModal(false);\n  };\n\n  /**\n   * Handle notification click\n   */\n  const handleNotificationClick = (notification: any) => {\n    logger.debug('[TeamChatPage] Notification clicked', { notificationId: notification.id });\n    \n    // Navigate to channel\n    if (notification.channelId) {\n      const targetChannel = state.channels.find(ch => ch.id === notification.channelId);\n      if (targetChannel) {\n        handleChannelSelect(targetChannel);\n      }\n    }\n    \n    // Scroll to message\n    if (notification.messageId) {\n      setTimeout(() => {\n        const messageElement = document.getElementById(`message-${notification.messageId}`);\n        if (messageElement) {\n          messageElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n          \n          // Highlight message\n          messageElement.classList.add('bg-yellow-100', 'dark:bg-yellow-900/30');\n          setTimeout(() => {\n            messageElement.classList.remove('bg-yellow-100', 'dark:bg-yellow-900/30');\n          }, 2000);\n        }\n      }, 300);\n    }\n  };\n\n  /**\n   * Handle mention notification from agent panel\n   * When agent clicks on mention notification, it navigates here with channelId and messageId query params\n   */\n  useEffect(() => {\n    const searchParams = new URLSearchParams(location.search);\n    const channelId = searchParams.get('channelId');\n    const messageId = searchParams.get('messageId');\n    \n    if (channelId && messageId) {\n      logger.debug('[TeamChatPage] Handling mention notification', { channelId, messageId });\n      \n      // Find and select the channel\n      const targetChannel = state.channels.find(ch => ch.id === channelId);\n      if (targetChannel) {\n        handleChannelSelect(targetChannel);\n        \n        // Scroll to the message after a short delay\n        setTimeout(() => {\n          const messageElement = document.getElementById(`message-${messageId}`);\n          if (messageElement) {\n            messageElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n            \n            // Highlight the message\n            messageElement.classList.add('bg-yellow-100', 'dark:bg-yellow-900/30');\n            setTimeout(() => {\n              messageElement.classList.remove('bg-yellow-100', 'dark:bg-yellow-900/30');\n            }, 2000);\n          } else {\n            logger.warn('[TeamChatPage] Message element not found', { messageId });\n          }\n        }, 500);\n      } else {\n        logger.warn('[TeamChatPage] Channel not found', { channelId });\n      }\n    }\n  }, [location.search, state.channels]);\n\n  /**\n   * Handle message search click\n   */\n  const handleSearchMessageClick = (messageId: string) => {\n    logger.debug('[TeamChatPage] Search result clicked', { messageId });\n    \n    const messageElement = document.getElementById(`message-${messageId}`);\n    if (messageElement) {\n      messageElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n      \n      // Highlight message\n      messageElement.classList.add('bg-yellow-100', 'dark:bg-yellow-900/30');\n      setTimeout(() => {\n        messageElement.classList.remove('bg-yellow-100', 'dark:bg-yellow-900/30');\n      }, 2000);\n    }\n  };\n\n  // ==================== RENDER ====================\n\n  return (\n    <div className=\"flex flex-col h-screen bg-gray-50 dark:bg-slate-900\">\n      {/* ========== HEADER ========== */}\n      <TeamChatHeader\n        user={user}\n        notifications={state.notifications}\n        showNotifications={state.showNotifications}\n        showUserMenu={state.showUserMenu}\n        setShowNotifications={state.setShowNotifications}\n        setShowUserMenu={state.setShowUserMenu}\n        setShowSearchModal={state.setShowSearchModal}\n        onNotificationClick={handleNotificationClick}\n      />\n\n      {/* ========== MAIN CONTENT ========== */}\n      <div className=\"flex flex-1 overflow-hidden\">\n        {/* ========== SIDEBAR ========== */}\n        <TeamChatSidebar\n          channels={state.channels}\n          selectedChannel={state.selectedChannel}\n          searchQuery={state.channelSearchQuery}\n          canManageChannels={canManageChannels}\n          setSearchQuery={state.setChannelSearchQuery}\n          setShowCreateChannelModal={state.setShowCreateChannelModal}\n          setShowNewDMModal={state.setShowNewDMModal}\n          onChannelSelect={handleChannelSelect}\n        />\n\n        {/* ========== MESSAGES AREA ========== */}\n        <div className=\"flex-1 flex flex-col bg-white dark:bg-slate-800\">\n          {state.selectedChannel ? (\n            <>\n              {/* Messages List */}\n              <div className=\"flex-1 overflow-y-auto p-4\">\n                {state.messages.length === 0 ? (\n                  <div className=\"h-full flex items-center justify-center text-gray-500 dark:text-gray-400\">\n                    <p>{t('teamChat.messages.noMessages')}</p>\n                  </div>\n                ) : (\n                  <div className=\"space-y-4\">\n                    {state.messages.map((message) => (\n                      <div\n                        key={message.id}\n                        id={`message-${message.id}`}\n                        className=\"flex items-start gap-3 transition-colors duration-300\"\n                      >\n                        <img\n                          src={`https://api.dicebear.com/7.x/avataaars/svg?seed=${message.userId}`}\n                          alt={t('teamChat.messages.userAvatar')}\n                          className=\"w-10 h-10 rounded flex-shrink-0\"\n                        />\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"flex items-baseline gap-2 mb-1\">\n                            <span className=\"font-semibold text-gray-900 dark:text-white\">\n                              {t('teamChat.messages.user', { userId: message.userId })}\n                            </span>\n                            <span className=\"text-xs text-gray-500 dark:text-gray-400\">\n                              {formatTime(message.timestamp)}\n                            </span>\n                          </div>\n                          <p className=\"text-gray-700 dark:text-gray-300 whitespace-pre-wrap break-words\">\n                            {message.content}\n                          </p>\n                        </div>\n                      </div>\n                    ))}\n                    <div ref={state.refs.messagesEndRef} />\n                  </div>\n                )}\n              </div>\n\n              {/* Message Input */}\n              <TeamChatInput\n                messageInput={state.messageInput}\n                isSending={state.isSending}\n                replyingTo={state.replyingTo}\n                showAttachMenu={state.showAttachMenu}\n                showEmojiPicker={state.showEmojiPicker}\n                showMentionMenu={state.showMentionMenu}\n                fileInputRef={state.refs.fileInputRef}\n                imageInputRef={state.refs.imageInputRef}\n                videoInputRef={state.refs.videoInputRef}\n                setMessageInput={state.setMessageInput}\n                setReplyingTo={state.setReplyingTo}\n                setShowAttachMenu={state.setShowAttachMenu}\n                setShowEmojiPicker={state.setShowEmojiPicker}\n                setShowMentionMenu={state.setShowMentionMenu}\n                onSendMessage={actions.handleSendMessage}\n                onFileUpload={actions.handleFileUpload}\n              />\n            </>\n          ) : (\n            <div className=\"h-full flex items-center justify-center text-gray-500 dark:text-gray-400\">\n              <div className=\"text-center\">\n                <p className=\"text-lg font-medium mb-2\">{t('teamChat.selectChannel')}</p>\n                <p className=\"text-sm\">{t('teamChat.selectChannelDescription')}</p>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* ========== MODALS ========== */}\n\n      {/* Call Modal */}\n      {state.showCallModal && (\n        <CallModal\n          callType={state.showCallModal}\n          callStatus={state.callStatus}\n          selectedChannel={state.selectedChannel}\n          callDuration={state.callDuration}\n          isMicMuted={state.isMicMuted}\n          isVideoOff={state.isVideoOff}\n          isSpeakerMuted={state.isSpeakerMuted}\n          setIsMicMuted={state.setIsMicMuted}\n          setIsVideoOff={state.setIsVideoOff}\n          setIsSpeakerMuted={state.setIsSpeakerMuted}\n          setCallStatus={state.setCallStatus}\n          setShowCallModal={state.setShowCallModal}\n        />\n      )}\n\n      {/* Create Channel Modal */}\n      {state.showCreateChannelModal && (\n        <CreateChannelModal\n          onCreateChannel={handleCreateChannel}\n          onClose={() => state.setShowCreateChannelModal(false)}\n          isSubmitting={false}\n        />\n      )}\n\n      {/* Delete Confirm Modal */}\n      {state.showDeleteConfirm && (\n        <DeleteConfirmModal\n          messageId={state.showDeleteConfirm}\n          onConfirm={actions.handleDeleteMessage}\n          onCancel={() => state.setShowDeleteConfirm(null)}\n        />\n      )}\n\n      {/* Search Modal */}\n      {state.showSearchModal && (\n        <SearchModal\n          messages={state.messages}\n          searchQuery={state.messageSearchQuery}\n          setSearchQuery={state.setMessageSearchQuery}\n          onClose={() => {\n            state.setShowSearchModal(false);\n            state.setMessageSearchQuery('');\n          }}\n          onMessageClick={handleSearchMessageClick}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default TeamChatPage;\n"],"names":["__iconNode","Hash","createLucideIcon","VideoOff","useTeamChat","channels","setChannels","useState","selectedChannel","setSelectedChannel","messages","setMessages","notifications","setNotifications","messageInput","setMessageInput","channelSearchQuery","setChannelSearchQuery","messageSearchQuery","setMessageSearchQuery","editingContent","setEditingContent","showNotifications","setShowNotifications","showUserMenu","setShowUserMenu","showSearchModal","setShowSearchModal","showCreateChannelModal","setShowCreateChannelModal","showMembersSidebar","setShowMembersSidebar","showChannelInfoModal","setShowChannelInfoModal","showNewDMModal","setShowNewDMModal","showThreadSidebar","setShowThreadSidebar","showAttachMenu","setShowAttachMenu","showEmojiPicker","setShowEmojiPicker","showMentionMenu","setShowMentionMenu","showScrollButton","setShowScrollButton","showMessageActions","setShowMessageActions","showReactionPicker","setShowReactionPicker","showDeleteConfirm","setShowDeleteConfirm","editingMessageId","setEditingMessageId","replyingTo","setReplyingTo","selectedThreadMessage","setSelectedThreadMessage","threadReplies","setThreadReplies","typingUsers","setTypingUsers","isSending","setIsSending","showCallModal","setShowCallModal","callStatus","setCallStatus","callDuration","setCallDuration","isMicMuted","setIsMicMuted","isVideoOff","setIsVideoOff","isSpeakerMuted","setIsSpeakerMuted","messagesEndRef","useRef","fileInputRef","imageInputRef","videoInputRef","useTeamChatActions","props","useTranslation","loadMessagesForChannel","channelId","logger","handleSendMessage","scrollToBottom","handleFileUpload","file","type","handleReaction","messageId","emoji","prev","msg","handleEditMessage","newContent","handleDeleteMessage","handleBookmark","_a","useTeamChatKeyboard","enabled","useEffect","handleKeyDown","event","useTeamChatEffects","onMount","interval","newDuration","timeout","TeamChatHeader","user","onNotificationClick","navigate","useNavigate","handleNotificationClick","notification","handleLogout","jsxs","jsx","ArrowLeft","MessageSquare","Search","Bell","n","Fragment","notif","ChevronDown","User","Settings","LogOut","TeamChatSidebar","searchQuery","canManageChannels","setSearchQuery","onChannelSelect","filterChannels","channelList","query","channel","publicChannels","ch","directMessages","sortChannels","a","b","renderChannelIcon","Lock","renderChannelItem","isSelected","hasUnread","Plus","e","TeamChatInput","onSendMessage","onFileUpload","textareaRef","textarea","newHeight","handleFileChange","isSendDisabled","X","Paperclip","ImageIcon","VideoIcon","Smile","AtSign","Send","formatCallDuration","seconds","minutes","remainingSeconds","CallModal","callType","handleEndCall","getStatusText","getAvatarColorClass","Phone","Video","MicOff","Mic","VolumeX","Volume2","PhoneOff","CreateChannelModal","onCreateChannel","onClose","isSubmitting","channelName","setChannelName","description","setDescription","isPrivate","setIsPrivate","memberSelection","setMemberSelection","selectedMembers","setSelectedMembers","nameError","setNameError","nameInputRef","validateChannelName","name","handleNameChange","value","formattedValue","handleSubmit","error","formData","handleBackdropClick","DeleteConfirmModal","onConfirm","onCancel","title","confirmText","cancelText","handleConfirm","Trash2","formatTime","timestamp","sharedFormatTime","getAvatarUrl","seed","SearchModal","onMessageClick","searchInputRef","filteredMessages","handleMessageClick","message","TeamChatPage","t","location","useLocation","useAuthStore","state","actions","handleChannelSelect","handleCreateChannel","targetChannel","messageElement","searchParams","handleSearchMessageClick"],"mappings":"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","x_google_ignoreList":[0,1]}