import{aj as d,j as e,d as B,v as w,p as N,n as k,C as D,T as G,g as U,l as p}from"./index-2fxJB1qk.js";import{r}from"./vendor-CytKP1XG.js";import{a as z,L as x}from"./router-D3gKB-SL.js";import{m as o,i as J}from"./config-BkJFRJBJ.js";import{u as O}from"./i18n-b0rokw0Y.js";import{A as v}from"./activity-DTNV2QZH.js";import{A as Y,a as K}from"./arrow-up-right-CYW1AnK4.js";import"./charts-B4blyqpX.js";const T={async getStats(){return(await d.get("/super-admin/dashboard/stats")).data},async globalSearch(a){return(await d.get("/super-admin/dashboard/search",{params:{query:a}})).data},async getNotifications(a=20){return(await d.get("/super-admin/dashboard/notifications",{params:{limit:a}})).data},async markNotificationRead(a){return(await d.post(`/super-admin/dashboard/notifications/${a}/read`)).data},async getRecentActivity(){return(await d.get("/super-admin/dashboard/activity")).data},async getTopTenants(a=5){return(await d.get("/super-admin/dashboard/top-tenants",{params:{limit:a}})).data},async getSystemHealth(){return(await d.get("/super-admin/dashboard/system-health")).data}},u={stats:{totalTenants:24,activeTenants:18,trialTenants:4,pastDueTenants:2,totalMonthlyRevenue:45750,totalMonthlyCosts:15280,totalProfit:30470,profitMargin:66.6,growthRate:15.3,churnRate:2.5},recentActivity:[{id:1,type:"new",tenant:"Fashion Boutique",tenantId:"tenant-1",action:"Yeni firma kaydı",time:"5 dakika önce",color:"green"},{id:2,type:"payment",tenant:"Acme E-commerce",tenantId:"tenant-2",action:"Ödeme alındı ($2,500)",time:"1 saat önce",color:"blue"},{id:3,type:"upgrade",tenant:"TechStart SaaS",tenantId:"tenant-3",action:"Enterprise plana yükseltildi",time:"3 saat önce",color:"purple"},{id:4,type:"warning",tenant:"HealthCare Plus",tenantId:"tenant-4",action:"Ödeme gecikmesi",time:"5 saat önce",color:"red"},{id:5,type:"api",tenant:"Food Delivery Co",tenantId:"tenant-5",action:"API limiti %80 doldu",time:"1 gün önce",color:"yellow"}],topTenants:[{name:"Acme E-commerce",revenue:2500,growth:12.5,plan:"Enterprise"},{name:"TechStart SaaS",revenue:2400,growth:18.2,plan:"Professional"},{name:"HealthCare Plus",revenue:2200,growth:-5.3,plan:"Professional"},{name:"Fashion Boutique",revenue:1999,growth:22.1,plan:"Starter"},{name:"Food Delivery Co",revenue:1899,growth:8.7,plan:"Professional"}],systemHealth:[{name:"API Server",status:"operational",uptime:"99.9%"},{name:"Database",status:"operational",uptime:"100%"},{name:"Cache",status:"operational",uptime:"99.8%"},{name:"Storage",status:"warning",uptime:"95.2%"}]},Q={async getStats(){return await o(),u.stats},async getRecentActivity(){return await o(),u.recentActivity},async getTopTenants(a=5){return await o(),u.topTenants.slice(0,a)},async getSystemHealth(){return await o(),u.systemHealth},async globalSearch(a){return await o(),[{id:"1",type:"tenant",title:"Acme E-commerce",subtitle:"Enterprise Plan"},{id:"2",type:"tenant",title:"TechStart SaaS",subtitle:"Professional Plan"},{id:"3",type:"user",title:"John Doe",subtitle:"Admin @ Acme"}].filter(c=>c.title.toLowerCase().includes(a.toLowerCase())||c.subtitle.toLowerCase().includes(a.toLowerCase()))},async markNotificationRead(a){return await o(),{success:!0}}},se=()=>{const{t:a}=O("admin"),[l,c]=r.useState(""),[m,h]=r.useState([]),[R,S]=r.useState(!1),[b,C]=r.useState([]),[y,$]=r.useState([]),[n,P]=r.useState(null),[j,I]=r.useState([]),[f,A]=r.useState(!0),i=z(),g=Q;r.useEffect(()=>{(async()=>{A(!0);try{const[s,F,H,q]=await Promise.all([g.getRecentActivity(),g.getTopTenants(5),g.getStats(),g.getSystemHealth()]);C(s),$(F),P(H),I(q),p.info("[AdminDashboard] Data fetched",{mode:J()?"mock":"real"})}catch(s){p.error("[AdminDashboard] Fetch failed",{error:s})}finally{A(!1)}})()},[]);const L=async t=>{if(c(t),!t.trim()){h([]);return}S(!0);try{const s=await T.globalSearch(t);h(s)}catch(s){p.error("Global search error",s),h([])}finally{S(!1)}},M=t=>{t.type==="tenant"?i(`/asistansuper/tenants/${t.id}`):t.type==="user"&&i(`/asistansuper/users?search=${t.id}`),c(""),h([])},E=async t=>{try{(t.type==="warning"||t.type==="api")&&await T.markNotificationRead(t.id.toString())}catch(s){p.error("Failed to mark notification as read",s)}t.type==="payment"?i(`/asistansuper/tenants/${t.tenantId}?tab=billing`):t.type==="warning"?i(`/asistansuper/tenants/${t.tenantId}?tab=billing`):t.type==="api"?i(`/asistansuper/tenants/${t.tenantId}?tab=usage`):i(`/asistansuper/tenants/${t.tenantId}`)};return e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:a("dashboard.title")}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:a("dashboard.subtitle")})]}),e.jsxs("div",{className:"relative w-full md:w-96",children:[e.jsx(B,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:a("dashboard.searchPlaceholder"),value:l,onChange:t=>L(t.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),l&&e.jsx("div",{className:"absolute top-full mt-2 w-full bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto",children:R?e.jsx("div",{className:"p-4 text-center text-gray-500",children:a("dashboard.searching")}):(m==null?void 0:m.length)>0?e.jsx("div",{className:"p-2",children:m.map((t,s)=>e.jsxs("button",{onClick:()=>M(t),className:"w-full text-left p-3 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:t.title}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.subtitle})]},s))}):e.jsx("div",{className:"p-4 text-center text-gray-500",children:a("dashboard.noResults")})})]})]}),f||!n?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"flex items-center justify-center gap-2",children:[0,1,2].map(t=>e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-600 animate-bounce",style:{animationDelay:`${t*.15}s`,animationDuration:"0.6s"}},t))})}):e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm opacity-90",children:a("dashboard.stats.totalTenants")}),e.jsx(w,{className:"w-5 h-5 opacity-90"})]}),e.jsx("p",{className:"text-3xl font-bold",children:n.totalTenants||0}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm",children:[e.jsx("span",{className:"px-2 py-0.5 bg-white/20 rounded-full",children:a("dashboard.stats.active",{count:n.activeTenants||0})}),e.jsx("span",{className:"px-2 py-0.5 bg-white/20 rounded-full",children:a("dashboard.stats.trial",{count:n.trialTenants||0})})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm opacity-90",children:a("dashboard.stats.monthlyRevenue")}),e.jsx(N,{className:"w-5 h-5 opacity-90"})]}),e.jsxs("p",{className:"text-3xl font-bold",children:["$",(n.totalMonthlyRevenue||0).toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:a("dashboard.stats.growthThisMonth",{rate:n.growthRate||0})})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm opacity-90",children:a("dashboard.stats.netProfit")}),e.jsx(k,{className:"w-5 h-5 opacity-90"})]}),e.jsxs("p",{className:"text-3xl font-bold",children:["$",(n.totalProfit||0).toLocaleString()]}),e.jsx("div",{className:"flex items-center gap-1 mt-2 text-sm",children:e.jsx("span",{children:a("dashboard.stats.profitMargin",{margin:n.profitMargin||0})})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm opacity-90",children:a("dashboard.systemHealth")}),e.jsx(v,{className:"w-5 h-5 opacity-90"})]}),e.jsx("p",{className:"text-3xl font-bold",children:"99.8%"}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm",children:[e.jsx(D,{className:"w-4 h-4"}),e.jsx("span",{children:a("dashboard.allSystemsOperational")})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-lg p-6 border border-gray-200 dark:border-slate-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:a("dashboard.recentActivity")}),f?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"flex items-center justify-center gap-1",children:[0,1,2].map(t=>e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-600 animate-bounce",style:{animationDelay:`${t*.15}s`,animationDuration:"0.6s"}},t))})}):!b||b.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:a("dashboard.noActivity")}):e.jsx("div",{className:"space-y-4",children:b.map(t=>e.jsxs("button",{onClick:()=>E(t),className:"w-full flex items-start gap-4 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors cursor-pointer text-left",children:[e.jsxs("div",{className:`p-2 rounded-lg ${t.color==="green"?"bg-green-100 dark:bg-green-900/30":t.color==="blue"?"bg-blue-100 dark:bg-blue-900/30":t.color==="purple"?"bg-purple-100 dark:bg-purple-900/30":t.color==="red"?"bg-red-100 dark:bg-red-900/30":"bg-yellow-100 dark:bg-yellow-900/30"}`,children:[t.type==="new"&&e.jsx(w,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),t.type==="payment"&&e.jsx(N,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),t.type==="upgrade"&&e.jsx(k,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),t.type==="warning"&&e.jsx(G,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),t.type==="api"&&e.jsx(v,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.tenant}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:t.action})]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[e.jsx(U,{className:"w-3 h-3"}),t.time]})]},t.id))})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 border border-gray-200 dark:border-slate-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:a("dashboard.systemStatus")}),e.jsx("div",{className:"space-y-4",children:j==null?void 0:j.map(t=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.name}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Uptime: ",t.uptime]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${t.color==="green"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:t.status==="operational"?a("dashboard.operational"):a("dashboard.slow")})]},t.name))})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg p-6 border border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:a("dashboard.topTenants")}),e.jsx(x,{to:"/asistansuper/financial-reports",className:"text-sm text-blue-600 dark:text-blue-400 hover:underline",children:a("dashboard.allReports")})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b border-gray-200 dark:border-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:a("dashboard.table.tenant")}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:a("dashboard.table.plan")}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:a("dashboard.table.monthlyRevenue")}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:a("dashboard.table.growth")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:f?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-8 text-center",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"flex items-center justify-center gap-1",children:[0,1,2].map(t=>e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600 animate-bounce",style:{animationDelay:`${t*.15}s`,animationDuration:"0.6s"}},t))})})})}):!y||y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:a("dashboard.noTenants")})}):y.map((t,s)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center text-blue-600 dark:text-blue-400 font-semibold text-sm",children:s+1}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.name})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.plan})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:e.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:["$",t.revenue.toLocaleString()]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:e.jsx("div",{className:"flex items-center justify-end gap-1",children:t.growth>0?e.jsxs(e.Fragment,{children:[e.jsx(Y,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),e.jsxs("span",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:["+",t.growth,"%"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),e.jsxs("span",{className:"text-sm font-semibold text-red-600 dark:text-red-400",children:[t.growth,"%"]})]})})})]},s))})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(x,{to:"/asistansuper/tenants",className:"p-4 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg hover:shadow-lg transition-shadow",children:[e.jsx(w,{className:"w-8 h-8 text-blue-600 dark:text-blue-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:a("dashboard.quickActions.tenantsManagement")}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:a("dashboard.quickActions.viewAllTenants")})]}),e.jsxs(x,{to:"/asistansuper/financial-reports",className:"p-4 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg hover:shadow-lg transition-shadow",children:[e.jsx(N,{className:"w-8 h-8 text-green-600 dark:text-green-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:a("dashboard.quickActions.financialReports")}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:a("dashboard.quickActions.revenueAnalysis")})]}),e.jsxs(x,{to:"/asistansuper/analytics",className:"p-4 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg hover:shadow-lg transition-shadow",children:[e.jsx(v,{className:"w-8 h-8 text-purple-600 dark:text-purple-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:a("dashboard.quickActions.analytics")}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:a("dashboard.quickActions.detailedStats")})]}),e.jsxs(x,{to:"/asistansuper/system",className:"p-4 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg hover:shadow-lg transition-shadow",children:[e.jsx(D,{className:"w-8 h-8 text-orange-600 dark:text-orange-400 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:a("dashboard.quickActions.system")}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:a("dashboard.quickActions.systemStatus")})]})]})]})};export{se as default};
//# sourceMappingURL=AdminDashboard-CLogTWJN.js.map
