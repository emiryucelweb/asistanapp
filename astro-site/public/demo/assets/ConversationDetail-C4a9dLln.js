import{c as h,j as e,g as b,P as u,a as p,m as y,l as j}from"./index-B70CDX4p.js";import{r as l}from"./vendor-CdXbigxo.js";import{u as v}from"./i18n-CvUHAAnz.js";import{d as f,a as N}from"./router-Bk68T6VO.js";import{A as k}from"./arrow-left-BRWpS3-R.js";import{V as w}from"./video-C3BvWpxR.js";import{E as P}from"./ellipsis-vertical-s8lEb7D7.js";import{P as C}from"./paperclip-COtdcOdQ.js";import{S as E}from"./smile-BjrwF1x6.js";import"./charts-CyRV38jT.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],T=h("check-check",S),_=()=>{const{t,i18n:i}=v("agent"),{id:c}=f(),x=N(),n=l.useRef(null),[a,d]=l.useState(""),r={customerName:t("conversations.detail.loading"),customerPhone:"",messages:[]};l.useEffect(()=>{var s;(s=n.current)==null||s.scrollIntoView({behavior:"smooth"})},[r.messages]);const o=()=>{a.trim()&&(j.debug("Message sent",{conversationId:c,message:a}),d(""))},g=s=>{const m=i.language==="tr"?"tr-TR":"en-US";return new Intl.DateTimeFormat(m,{hour:"2-digit",minute:"2-digit"}).format(s)};return e.jsxs("div",{className:"flex flex-col h-screen bg-slate-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{type:"button",onClick:()=>x("/agent/conversations"),className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(k,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center",children:e.jsx(b,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-500 border-2 border-white dark:border-slate-800 rounded-full"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r.customerName}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.customerPhone})]})]}),e.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[e.jsxs("span",{className:"px-3 py-1 rounded-full bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 text-xs font-semibold",children:["ðŸš¨ ",t("conversations.detail.urgentPriority")]}),e.jsxs("span",{className:"px-3 py-1 rounded-full bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs font-semibold",children:["âœ… ",t("conversations.detail.activePriority")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(u,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),e.jsx("button",{type:"button",className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(w,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),e.jsx("button",{type:"button",className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(P,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 text-white p-4 rounded-lg mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(p,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:t("conversations.detail.emergencyCallTakenOver")}),e.jsx("p",{className:"text-sm text-white/90",children:t("conversations.detail.emergencyCallDescription")})]})]})}),r.messages.map(s=>e.jsx("div",{className:`flex ${s.sender==="agent"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[70%] ${s.sender==="agent"?"order-2":"order-1"}`,children:[s.sender!=="agent"&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 ml-1",children:[s.senderName," ",s.sender==="ai"&&t("conversations.detail.aiAssistant")]}),e.jsxs("div",{className:`rounded-lg p-3 ${s.sender==="customer"?"bg-white dark:bg-slate-800 text-gray-900 dark:text-white":s.sender==="ai"?"bg-blue-100 dark:bg-blue-900/30 text-blue-900 dark:text-blue-300":"bg-blue-600 text-white"}`,children:[e.jsx("p",{className:"text-sm",children:s.content}),e.jsxs("div",{className:"flex items-center justify-end gap-1 mt-1",children:[e.jsx("p",{className:"text-xs opacity-70",children:g(s.timestamp)}),s.sender==="agent"&&(s.status==="read"||s.status==="delivered")&&e.jsx(T,{className:"w-4 h-4"})]})]})]})},s.id)),e.jsx("div",{ref:n})]}),e.jsx("div",{className:"bg-white dark:bg-slate-800 border-t border-gray-200 dark:border-slate-700 p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(C,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),e.jsx("button",{type:"button",className:"p-2 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(E,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),e.jsx("input",{type:"text",value:a,onChange:s=>d(s.target.value),onKeyDown:s=>s.key==="Enter"&&o(),placeholder:t("conversations.messagePlaceholder"),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white dark:bg-slate-900 text-gray-900 dark:text-white"}),e.jsxs("button",{type:"button",onClick:o,disabled:!a.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[e.jsx(y,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:t("conversations.detail.send")})]})]})})]})};export{_ as default};
//# sourceMappingURL=ConversationDetail-C4a9dLln.js.map
