import{u as y,j as e,y as k,e as g,f as j,m as N,a4 as v}from"./index-2fxJB1qk.js";import{r as l}from"./vendor-CytKP1XG.js";import{u as C}from"./i18n-b0rokw0Y.js";import"./charts-B4blyqpX.js";import"./router-D3gKB-SL.js";const $=()=>{const{t,i18n:h}=C("agent"),{user:a}=y(),[m,u]=l.useState([{id:"1",role:"assistant",content:t("aiChat.welcome.message",{name:(a==null?void 0:a.name)||t("aiChat.welcome.defaultName")}),timestamp:new Date().toISOString(),suggestions:[t("aiChat.suggestions.todayStats"),t("aiChat.suggestions.frequentQuestions"),t("aiChat.suggestions.waitingCustomers"),t("aiChat.suggestions.teamStatus")]}]),[i,o]=l.useState(""),[n,c]=l.useState(!1),x=l.useRef(null),b=()=>{var s;(s=x.current)==null||s.scrollIntoView({behavior:"smooth"})};l.useEffect(()=>{b()},[m]);const p=l.useCallback(async()=>{if(!i.trim()||n)return;const s={id:Date.now().toString(),role:"user",content:i,timestamp:new Date().toISOString()};u(r=>[...r,s]),o(""),c(!0),setTimeout(()=>{const r={id:(Date.now()+1).toString(),role:"assistant",content:t("aiChat.responses.processing"),timestamp:new Date().toISOString(),suggestions:[t("aiChat.suggestions.todayStats"),t("aiChat.suggestions.waitingCustomers"),t("aiChat.suggestions.performance")]};u(d=>[...d,r]),c(!1)},1500)},[i,n,t,a==null?void 0:a.id]),f=s=>{o(s)},w=s=>v(new Date(s),h.language,{hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-slate-900",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 px-4 sm:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-purple-500 to-blue-600 dark:from-purple-600 dark:to-blue-700 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(k,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h1",{className:"text-lg sm:text-xl font-bold text-gray-900 dark:text-white truncate",children:t("aiChat.header.title")}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 truncate",children:t("aiChat.header.subtitle")})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 md:p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-4 sm:space-y-6",children:[m.map(s=>e.jsxs("div",{className:`flex gap-2 sm:gap-3 md:gap-4 ${s.role==="user"?"justify-end":""}`,children:[s.role==="assistant"&&e.jsx("div",{className:"hidden sm:flex w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-br from-purple-500 to-blue-600 dark:from-purple-600 dark:to-blue-700 rounded-lg items-center justify-center flex-shrink-0",children:e.jsx(g,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),e.jsx("div",{className:`flex-1 max-w-full sm:max-w-2xl ${s.role==="user"?"flex justify-end":""}`,children:e.jsxs("div",{className:`rounded-xl sm:rounded-2xl p-3 sm:p-4 ${s.role==="user"?"bg-blue-600 dark:bg-blue-700 text-white":"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700"}`,children:[e.jsx("p",{className:`whitespace-pre-wrap ${s.role==="assistant"?"text-gray-900 dark:text-white":""}`,children:s.content}),e.jsx("p",{className:`text-xs mt-2 ${s.role==="user"?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:w(s.timestamp)}),s.suggestions&&s.suggestions.length>0&&e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:t("aiChat.suggestions.title")}),s.suggestions.map((r,d)=>e.jsx("button",{onClick:()=>f(r),className:"block w-full text-left px-3 py-2 bg-purple-50 dark:bg-purple-900/20 hover:bg-purple-100 dark:hover:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-lg text-sm transition-colors",type:"button",children:r},d))]})]})}),s.role==="user"&&e.jsx("div",{className:"hidden sm:flex w-7 h-7 sm:w-8 sm:h-8 bg-blue-600 dark:bg-blue-700 rounded-lg items-center justify-center flex-shrink-0",children:e.jsx(j,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})})]},s.id)),n&&e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-blue-600 dark:from-purple-600 dark:to-blue-700 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(g,{className:"w-5 h-5 text-white"})}),e.jsx("div",{className:"flex-1 max-w-2xl",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-600 dark:bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-purple-600 dark:bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-purple-600 dark:bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})})]}),e.jsx("div",{ref:x})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-800 border-t border-gray-200 dark:border-slate-700 p-3 sm:p-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-end gap-2 sm:gap-3",children:[e.jsx("div",{className:"flex-1 bg-gray-50 dark:bg-slate-900 border border-gray-300 dark:border-slate-600 rounded-lg sm:rounded-xl focus-within:border-purple-500 dark:focus-within:border-purple-400 transition-colors",children:e.jsx("textarea",{value:i,onChange:s=>o(s.target.value),onKeyDown:s=>{s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),p())},placeholder:t("aiChat.askQuestion"),rows:2,className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-transparent text-sm sm:text-base text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 resize-none focus:outline-none"})}),e.jsxs("button",{onClick:p,disabled:!i.trim()||n,className:"px-4 py-2.5 sm:px-6 sm:py-3 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 dark:from-purple-700 dark:to-blue-800 dark:hover:from-purple-800 dark:hover:to-blue-900 disabled:opacity-50 disabled:cursor-not-allowed text-white text-sm sm:text-base font-medium rounded-lg sm:rounded-xl transition-all flex items-center justify-center gap-2",type:"button",children:[e.jsx(N,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{children:t("aiChat.send")})]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center hidden sm:block",children:t("aiChat.disclaimer")})]})})]})};export{$ as default};
//# sourceMappingURL=AgentAIChatPage-Dc392RFn.js.map
